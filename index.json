{"repository_name":"openrouter","body":"# openrouter\n\nHTTP Client for the OpenRouter API (https://openrouter.ai)\n\n## Documentation\ndocs hosted at [crystaldoc.info](https://crystaldoc.info/github/petterthowsen/openrouter/v0.3.0/index.html)\n\n## Support / Features\n\n- text completion\n- chat completion\n- multimodal I.E images\n- tool use\n\n\n## Installation\n\n1. Add the dependency to your `shard.yml`:\n\n   ```yaml\n   dependencies:\n     openrouter:\n       github: petterthowsen/openrouter\n   ```\n\n2. Run `shards install`\n\n## Usage\n\n```crystal\nrequire \"openrouter\"\n\n# create a client instance\nclient = OpenRouter::Client.new \"sk-or-v1-123456789...\"\n\n# get available models as an Array of OpenRouter::Model \nmodels = client.get_models\n\n# get a completion from a single text prompt:\nresponse = client.complete(\"Hello, how are you?\", \"mistralai/mistral-7b-instruct:free\")\n\n# or use the CompletionRequest class to construct a more complex request with multiple messages:\nrequest = OpenRouter::CompletionRequest.new(\n  model: \"mistralai/mistral-7b-instruct:free\",\n  messages: [\n    OpenRouter::Message.new(role: OpenRouter::Role::User, content: \"If I have 10 apples...\"),\n    OpenRouter::Message.new(role: OpenRouter::Role::Assistant, content: \"You have 10 apples and... ?\"),\n    OpenRouter::Message.new(role: OpenRouter::Role::User, content: \"I eat half of them. How many do I have left?\"),\n  ]\n)\n\nresponse = client.complete(request)\n\n# you can get the content like this:\nchoice = response.choices[0].as(OpenRouter::NonStreamingChoice)\n\n# choice is a OpenRouter::Content\n# which is alias of String | Array(NamedTuple(type, value))\n# if you know it's only one text response, use the utility method:\ntext : String = choice.content_string\nputs \"AI Responded with: \" + text\n\n# otherwise, you can access it like so (I think):\nchoice.content[0][:value] # => String\n\n```\n\n## Development\n\nThe main class is the Client in `./src/openrouter/client.cr`.\n\nIt uses the CompletionRequest in `./src/openrouter/types/completion_request.cr` and Response in `./src/openrouter/types/response.cr`.\n\n## Contributing\n\n1. Fork it (<https://github.com/petterthowsen/openrouter/fork>)\n2. Create your feature branch (`git checkout -b my-new-feature`)\n3. Commit your changes (`git commit -am 'Add some feature'`)\n4. Push to the branch (`git push origin my-new-feature`)\n5. Create a new Pull Request\n\n## Contributors\n\n- [Petter Thowsen](https://github.com/petterthowsen) - creator and maintainer\n","program":{"html_id":"openrouter/toplevel","path":"toplevel.html","kind":"module","full_name":"Top Level Namespace","name":"Top Level Namespace","abstract":false,"locations":[],"repository_name":"openrouter","program":true,"enum":false,"alias":false,"const":false,"types":[{"html_id":"openrouter/OpenRouter","path":"OpenRouter.html","kind":"module","full_name":"OpenRouter","name":"OpenRouter","abstract":false,"locations":[{"filename":"src/openrouter.cr","line_number":11,"url":null},{"filename":"src/openrouter/client.cr","line_number":6,"url":null},{"filename":"src/openrouter/errors.cr","line_number":2,"url":null},{"filename":"src/openrouter/types/completion_request.cr","line_number":3,"url":null},{"filename":"src/openrouter/types/message.cr","line_number":3,"url":null},{"filename":"src/openrouter/types/model.cr","line_number":1,"url":null},{"filename":"src/openrouter/types/reasoning.cr","line_number":1,"url":null},{"filename":"src/openrouter/types/response.cr","line_number":3,"url":null},{"filename":"src/openrouter/types/tool.cr","line_number":1,"url":null},{"filename":"src/openrouter/types/tool_call.cr","line_number":1,"url":null}],"repository_name":"openrouter","program":false,"enum":false,"alias":false,"const":false,"constants":[{"id":"VERSION","name":"VERSION","value":"\"0.12.0\""}],"doc":"Provides an HTTP Client for the OpenRouter API (https://openrouter.ai)","summary":"<p>Provides an HTTP Client for the OpenRouter API (https://openrouter.ai)</p>","types":[{"html_id":"openrouter/OpenRouter/ApiError","path":"OpenRouter/ApiError.html","kind":"class","full_name":"OpenRouter::ApiError","name":"ApiError","abstract":false,"superclass":{"html_id":"openrouter/OpenRouter/Error","kind":"class","full_name":"OpenRouter::Error","name":"Error"},"ancestors":[{"html_id":"openrouter/OpenRouter/Error","kind":"class","full_name":"OpenRouter::Error","name":"Error"},{"html_id":"openrouter/Exception","kind":"class","full_name":"Exception","name":"Exception"},{"html_id":"openrouter/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"openrouter/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/openrouter/errors.cr","line_number":19,"url":null}],"repository_name":"openrouter","program":false,"enum":false,"alias":false,"const":false,"namespace":{"html_id":"openrouter/OpenRouter","kind":"module","full_name":"OpenRouter","name":"OpenRouter"},"doc":"Generic API error","summary":"<p>Generic API error</p>","constructors":[{"html_id":"new(message:String,code:Int32|Nil=nil)-class-method","name":"new","abstract":false,"args":[{"name":"message","external_name":"message","restriction":"String"},{"name":"code","default_value":"nil","external_name":"code","restriction":"Int32 | ::Nil"}],"args_string":"(message : String, code : Int32 | Nil = nil)","args_html":"(message : String, code : Int32 | Nil = <span class=\"n\">nil</span>)","location":{"filename":"src/openrouter/errors.cr","line_number":22,"url":null},"def":{"name":"new","args":[{"name":"message","external_name":"message","restriction":"String"},{"name":"code","default_value":"nil","external_name":"code","restriction":"Int32 | ::Nil"}],"visibility":"Public","body":"_ = allocate\n_.initialize(message, code)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"},"external_var":false}],"instance_methods":[{"html_id":"code:Int32|Nil-instance-method","name":"code","abstract":false,"location":{"filename":"src/openrouter/errors.cr","line_number":20,"url":null},"def":{"name":"code","return_type":"Int32 | ::Nil","visibility":"Public","body":"@code"},"external_var":false}]},{"html_id":"openrouter/OpenRouter/BadGatewayError","path":"OpenRouter/BadGatewayError.html","kind":"class","full_name":"OpenRouter::BadGatewayError","name":"BadGatewayError","abstract":false,"superclass":{"html_id":"openrouter/OpenRouter/Error","kind":"class","full_name":"OpenRouter::Error","name":"Error"},"ancestors":[{"html_id":"openrouter/OpenRouter/Error","kind":"class","full_name":"OpenRouter::Error","name":"Error"},{"html_id":"openrouter/Exception","kind":"class","full_name":"Exception","name":"Exception"},{"html_id":"openrouter/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"openrouter/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/openrouter/errors.cr","line_number":15,"url":null}],"repository_name":"openrouter","program":false,"enum":false,"alias":false,"const":false,"namespace":{"html_id":"openrouter/OpenRouter","kind":"module","full_name":"OpenRouter","name":"OpenRouter"}},{"html_id":"openrouter/OpenRouter/BadRequestError","path":"OpenRouter/BadRequestError.html","kind":"class","full_name":"OpenRouter::BadRequestError","name":"BadRequestError","abstract":false,"superclass":{"html_id":"openrouter/OpenRouter/Error","kind":"class","full_name":"OpenRouter::Error","name":"Error"},"ancestors":[{"html_id":"openrouter/OpenRouter/Error","kind":"class","full_name":"OpenRouter::Error","name":"Error"},{"html_id":"openrouter/Exception","kind":"class","full_name":"Exception","name":"Exception"},{"html_id":"openrouter/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"openrouter/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/openrouter/errors.cr","line_number":9,"url":null}],"repository_name":"openrouter","program":false,"enum":false,"alias":false,"const":false,"namespace":{"html_id":"openrouter/OpenRouter","kind":"module","full_name":"OpenRouter","name":"OpenRouter"}},{"html_id":"openrouter/OpenRouter/Choice","path":"OpenRouter/Choice.html","kind":"struct","full_name":"OpenRouter::Choice","name":"Choice","abstract":true,"superclass":{"html_id":"openrouter/Struct","kind":"struct","full_name":"Struct","name":"Struct"},"ancestors":[{"html_id":"openrouter/Struct","kind":"struct","full_name":"Struct","name":"Struct"},{"html_id":"openrouter/Value","kind":"struct","full_name":"Value","name":"Value"},{"html_id":"openrouter/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/openrouter/types/response.cr","line_number":47,"url":null}],"repository_name":"openrouter","program":false,"enum":false,"alias":false,"const":false,"subclasses":[{"html_id":"openrouter/OpenRouter/NonChatChoice","kind":"struct","full_name":"OpenRouter::NonChatChoice","name":"NonChatChoice"},{"html_id":"openrouter/OpenRouter/NonStreamingChoice","kind":"struct","full_name":"OpenRouter::NonStreamingChoice","name":"NonStreamingChoice"},{"html_id":"openrouter/OpenRouter/StreamingChoice","kind":"struct","full_name":"OpenRouter::StreamingChoice","name":"StreamingChoice"}],"namespace":{"html_id":"openrouter/OpenRouter","kind":"module","full_name":"OpenRouter","name":"OpenRouter"},"constructors":[{"html_id":"new(json:JSON::Any)-class-method","name":"new","abstract":false,"args":[{"name":"json","external_name":"json","restriction":"JSON::Any"}],"args_string":"(json : JSON::Any)","args_html":"(json : JSON::Any)","location":{"filename":"src/openrouter/types/response.cr","line_number":49,"url":null},"def":{"name":"new","args":[{"name":"json","external_name":"json","restriction":"JSON::Any"}],"visibility":"Public","body":"_ = allocate\n_.initialize(json)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"},"external_var":false}],"instance_methods":[{"html_id":"finish_reason:String|Nil-instance-method","name":"finish_reason","abstract":false,"location":{"filename":"src/openrouter/types/response.cr","line_number":48,"url":null},"def":{"name":"finish_reason","return_type":"String | ::Nil","visibility":"Public","body":"@finish_reason"},"external_var":false},{"html_id":"to_json(io:IO)-instance-method","name":"to_json","abstract":true,"args":[{"name":"io","external_name":"io","restriction":"IO"}],"args_string":"(io : IO)","args_html":"(io : IO)","location":{"filename":"src/openrouter/types/response.cr","line_number":50,"url":null},"def":{"name":"to_json","args":[{"name":"io","external_name":"io","restriction":"IO"}],"visibility":"Public","body":""},"external_var":false},{"html_id":"to_json(json:JSON::Builder)-instance-method","name":"to_json","abstract":true,"args":[{"name":"json","external_name":"json","restriction":"JSON::Builder"}],"args_string":"(json : JSON::Builder)","args_html":"(json : JSON::Builder)","location":{"filename":"src/openrouter/types/response.cr","line_number":51,"url":null},"def":{"name":"to_json","args":[{"name":"json","external_name":"json","restriction":"JSON::Builder"}],"visibility":"Public","body":""},"external_var":false}]},{"html_id":"openrouter/OpenRouter/Client","path":"OpenRouter/Client.html","kind":"class","full_name":"OpenRouter::Client","name":"Client","abstract":false,"superclass":{"html_id":"openrouter/Reference","kind":"class","full_name":"Reference","name":"Reference"},"ancestors":[{"html_id":"openrouter/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"openrouter/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/openrouter/client.cr","line_number":9,"url":null}],"repository_name":"openrouter","program":false,"enum":false,"alias":false,"const":false,"constants":[{"id":"BASE_URL","name":"BASE_URL","value":"\"https://openrouter.ai/api/v1\""}],"namespace":{"html_id":"openrouter/OpenRouter","kind":"module","full_name":"OpenRouter","name":"OpenRouter"},"doc":"Client for the OpenRouter API","summary":"<p>Client for the OpenRouter API</p>","constructors":[{"html_id":"new(api_key:String,app_name:String|Nil=nil,app_url:String|Nil=nil,connect_timeout:Float64=60.0,read_timeout:Float64=60.0)-class-method","name":"new","doc":"Initialize a new OpenRouter::Client\n\nThe *api_key* is generally required to use the API (though an invalid key seems to allow querying for models.)\n*app_name* and *app_url* are optional and tell OpenRouter about your application.\n*connect_timeout* and *read_timeout* are timeout values in seconds (default: 60.0).","summary":"<p>Initialize a new OpenRouter::Client</p>","abstract":false,"args":[{"name":"api_key","external_name":"api_key","restriction":"String"},{"name":"app_name","default_value":"nil","external_name":"app_name","restriction":"String | ::Nil"},{"name":"app_url","default_value":"nil","external_name":"app_url","restriction":"String | ::Nil"},{"name":"connect_timeout","default_value":"60.0","external_name":"connect_timeout","restriction":"Float64"},{"name":"read_timeout","default_value":"60.0","external_name":"read_timeout","restriction":"Float64"}],"args_string":"(api_key : String, app_name : String | Nil = nil, app_url : String | Nil = nil, connect_timeout : Float64 = 60.0, read_timeout : Float64 = 60.0)","args_html":"(api_key : String, app_name : String | Nil = <span class=\"n\">nil</span>, app_url : String | Nil = <span class=\"n\">nil</span>, connect_timeout : Float64 = <span class=\"n\">60.0</span>, read_timeout : Float64 = <span class=\"n\">60.0</span>)","location":{"filename":"src/openrouter/client.cr","line_number":32,"url":null},"def":{"name":"new","args":[{"name":"api_key","external_name":"api_key","restriction":"String"},{"name":"app_name","default_value":"nil","external_name":"app_name","restriction":"String | ::Nil"},{"name":"app_url","default_value":"nil","external_name":"app_url","restriction":"String | ::Nil"},{"name":"connect_timeout","default_value":"60.0","external_name":"connect_timeout","restriction":"Float64"},{"name":"read_timeout","default_value":"60.0","external_name":"read_timeout","restriction":"Float64"}],"visibility":"Public","body":"_ = allocate\n_.initialize(api_key, app_name, app_url, connect_timeout, read_timeout)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"},"external_var":false}],"instance_methods":[{"html_id":"api_key:String-instance-method","name":"api_key","abstract":false,"location":{"filename":"src/openrouter/client.cr","line_number":12,"url":null},"def":{"name":"api_key","return_type":"String","visibility":"Public","body":"@api_key"},"external_var":false},{"html_id":"api_key=(api_key:String)-instance-method","name":"api_key=","abstract":false,"args":[{"name":"api_key","external_name":"api_key","restriction":"String"}],"args_string":"(api_key : String)","args_html":"(api_key : String)","location":{"filename":"src/openrouter/client.cr","line_number":12,"url":null},"def":{"name":"api_key=","args":[{"name":"api_key","external_name":"api_key","restriction":"String"}],"visibility":"Public","body":"@api_key = api_key"},"external_var":false},{"html_id":"app_name:String|Nil-instance-method","name":"app_name","doc":"It tells OpenRouter which app is using the API\nsee #app_url","summary":"<p>It tells OpenRouter which app is using the API see #app_url</p>","abstract":false,"location":{"filename":"src/openrouter/client.cr","line_number":16,"url":null},"def":{"name":"app_name","return_type":"String | ::Nil","visibility":"Public","body":"@app_name"},"external_var":false},{"html_id":"app_name=(app_name:String|Nil)-instance-method","name":"app_name=","doc":"It tells OpenRouter which app is using the API\nsee #app_url","summary":"<p>It tells OpenRouter which app is using the API see #app_url</p>","abstract":false,"args":[{"name":"app_name","external_name":"app_name","restriction":"String | ::Nil"}],"args_string":"(app_name : String | Nil)","args_html":"(app_name : String | Nil)","location":{"filename":"src/openrouter/client.cr","line_number":16,"url":null},"def":{"name":"app_name=","args":[{"name":"app_name","external_name":"app_name","restriction":"String | ::Nil"}],"visibility":"Public","body":"@app_name = app_name"},"external_var":false},{"html_id":"app_url:String|Nil-instance-method","name":"app_url","doc":"Together with #app_name it tells OpenRouter which app is using the API","summary":"<p>Together with #app_name it tells OpenRouter which app is using the API</p>","abstract":false,"location":{"filename":"src/openrouter/client.cr","line_number":19,"url":null},"def":{"name":"app_url","return_type":"String | ::Nil","visibility":"Public","body":"@app_url"},"external_var":false},{"html_id":"app_url=(app_url:String|Nil)-instance-method","name":"app_url=","doc":"Together with #app_name it tells OpenRouter which app is using the API","summary":"<p>Together with #app_name it tells OpenRouter which app is using the API</p>","abstract":false,"args":[{"name":"app_url","external_name":"app_url","restriction":"String | ::Nil"}],"args_string":"(app_url : String | Nil)","args_html":"(app_url : String | Nil)","location":{"filename":"src/openrouter/client.cr","line_number":19,"url":null},"def":{"name":"app_url=","args":[{"name":"app_url","external_name":"app_url","restriction":"String | ::Nil"}],"visibility":"Public","body":"@app_url = app_url"},"external_var":false},{"html_id":"complete(prompt:String,model:String):Response-instance-method","name":"complete","doc":"Send a completion request for a text prompt using the specified model","summary":"<p>Send a completion request for a text prompt using the specified model</p>","abstract":false,"args":[{"name":"prompt","external_name":"prompt","restriction":"String"},{"name":"model","external_name":"model","restriction":"String"}],"args_string":"(prompt : String, model : String) : Response","args_html":"(prompt : String, model : String) : <a href=\"../OpenRouter/Response.html\">Response</a>","location":{"filename":"src/openrouter/client.cr","line_number":53,"url":null},"def":{"name":"complete","args":[{"name":"prompt","external_name":"prompt","restriction":"String"},{"name":"model","external_name":"model","restriction":"String"}],"return_type":"Response","visibility":"Public","body":"completion_request = CompletionRequest.new(prompt, model)\ncomplete(completion_request)\n"},"external_var":false},{"html_id":"complete(request:CompletionRequest):Response-instance-method","name":"complete","doc":"Send a completion request using the specified CompletionRequest object","summary":"<p>Send a completion request using the specified CompletionRequest object</p>","abstract":false,"args":[{"name":"request","external_name":"request","restriction":"CompletionRequest"}],"args_string":"(request : CompletionRequest) : Response","args_html":"(request : <a href=\"../OpenRouter/CompletionRequest.html\">CompletionRequest</a>) : <a href=\"../OpenRouter/Response.html\">Response</a>","location":{"filename":"src/openrouter/client.cr","line_number":59,"url":null},"def":{"name":"complete","args":[{"name":"request","external_name":"request","restriction":"CompletionRequest"}],"return_type":"Response","visibility":"Public","body":"request_json = request.to_json\n\n\nresponse_json = post(\"/chat/completions\", request_json)\nResponse.from_request(request, response_json)\n"},"external_var":false},{"html_id":"connect_timeout:Float64-instance-method","name":"connect_timeout","doc":"Connection timeout in seconds (default: 60.0)","summary":"<p>Connection timeout in seconds (default: 60.0)</p>","abstract":false,"location":{"filename":"src/openrouter/client.cr","line_number":22,"url":null},"def":{"name":"connect_timeout","return_type":"Float64","visibility":"Public","body":"@connect_timeout"},"external_var":false},{"html_id":"connect_timeout=(connect_timeout:Float64)-instance-method","name":"connect_timeout=","doc":"Connection timeout in seconds (default: 60.0)","summary":"<p>Connection timeout in seconds (default: 60.0)</p>","abstract":false,"args":[{"name":"connect_timeout","external_name":"connect_timeout","restriction":"Float64"}],"args_string":"(connect_timeout : Float64)","args_html":"(connect_timeout : Float64)","location":{"filename":"src/openrouter/client.cr","line_number":22,"url":null},"def":{"name":"connect_timeout=","args":[{"name":"connect_timeout","external_name":"connect_timeout","restriction":"Float64"}],"visibility":"Public","body":"@connect_timeout = connect_timeout"},"external_var":false},{"html_id":"get(endpoint:String):JSON::Any-instance-method","name":"get","doc":"Get a specific endpoint\n\nThis is a low-level method that is available for edge cases.","summary":"<p>Get a specific endpoint</p>","abstract":false,"args":[{"name":"endpoint","external_name":"endpoint","restriction":"String"}],"args_string":"(endpoint : String) : JSON::Any","args_html":"(endpoint : String) : JSON::Any","location":{"filename":"src/openrouter/client.cr","line_number":70,"url":null},"def":{"name":"get","args":[{"name":"endpoint","external_name":"endpoint","restriction":"String"}],"return_type":"JSON::Any","visibility":"Public","body":"request(\"GET\", endpoint)"},"external_var":false},{"html_id":"get_models:Array(Model)-instance-method","name":"get_models","doc":"Returns an array of Model structs representing the available models currently supported by OpenRouter","summary":"<p>Returns an array of Model structs representing the available models currently supported by OpenRouter</p>","abstract":false,"location":{"filename":"src/openrouter/client.cr","line_number":41,"url":null},"def":{"name":"get_models","return_type":"Array(Model)","visibility":"Public","body":"models_json = get(\"/models\")\n\n\ndata = models_json[\"data\"] || (raise(\"Invalid response: 'data' key missing\"))\ndata_array = data.as_a || (raise(\"Invalid response: 'data' is not an array\"))\n\n\ndata_array.map do |model_json|\n  OpenRouter::Model.new(model_json)\nend\n"},"external_var":false},{"html_id":"post(endpoint:String,body:String|Nil):JSON::Any-instance-method","name":"post","doc":"Post to a specific endpoint\n\nThis is a low-level method that is available for edge cases.","summary":"<p>Post to a specific endpoint</p>","abstract":false,"args":[{"name":"endpoint","external_name":"endpoint","restriction":"String"},{"name":"body","external_name":"body","restriction":"String | ::Nil"}],"args_string":"(endpoint : String, body : String | Nil) : JSON::Any","args_html":"(endpoint : String, body : String | Nil) : JSON::Any","location":{"filename":"src/openrouter/client.cr","line_number":77,"url":null},"def":{"name":"post","args":[{"name":"endpoint","external_name":"endpoint","restriction":"String"},{"name":"body","external_name":"body","restriction":"String | ::Nil"}],"return_type":"JSON::Any","visibility":"Public","body":"request(\"POST\", endpoint, body)"},"external_var":false},{"html_id":"read_timeout:Float64-instance-method","name":"read_timeout","doc":"Read timeout in seconds (default: 60.0)","summary":"<p>Read timeout in seconds (default: 60.0)</p>","abstract":false,"location":{"filename":"src/openrouter/client.cr","line_number":25,"url":null},"def":{"name":"read_timeout","return_type":"Float64","visibility":"Public","body":"@read_timeout"},"external_var":false},{"html_id":"read_timeout=(read_timeout:Float64)-instance-method","name":"read_timeout=","doc":"Read timeout in seconds (default: 60.0)","summary":"<p>Read timeout in seconds (default: 60.0)</p>","abstract":false,"args":[{"name":"read_timeout","external_name":"read_timeout","restriction":"Float64"}],"args_string":"(read_timeout : Float64)","args_html":"(read_timeout : Float64)","location":{"filename":"src/openrouter/client.cr","line_number":25,"url":null},"def":{"name":"read_timeout=","args":[{"name":"read_timeout","external_name":"read_timeout","restriction":"Float64"}],"visibility":"Public","body":"@read_timeout = read_timeout"},"external_var":false}]},{"html_id":"openrouter/OpenRouter/CompletionRequest","path":"OpenRouter/CompletionRequest.html","kind":"class","full_name":"OpenRouter::CompletionRequest","name":"CompletionRequest","abstract":false,"superclass":{"html_id":"openrouter/Reference","kind":"class","full_name":"Reference","name":"Reference"},"ancestors":[{"html_id":"openrouter/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"openrouter/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/openrouter/types/completion_request.cr","line_number":5,"url":null}],"repository_name":"openrouter","program":false,"enum":false,"alias":false,"const":false,"namespace":{"html_id":"openrouter/OpenRouter","kind":"module","full_name":"OpenRouter","name":"OpenRouter"},"constructors":[{"html_id":"new(messages:Array(Message),model:String|Nil=nil,tools:Array(Tool)=[]ofTool)-class-method","name":"new","abstract":false,"args":[{"name":"messages","external_name":"messages","restriction":"Array(Message)"},{"name":"model","default_value":"nil","external_name":"model","restriction":"String | ::Nil"},{"name":"tools","default_value":"[] of Tool","external_name":"tools","restriction":"Array(Tool)"}],"args_string":"(messages : Array(Message), model : String | Nil = nil, tools : Array(Tool) = [] of Tool)","args_html":"(messages : Array(<a href=\"../OpenRouter/Message.html\">Message</a>), model : String | Nil = <span class=\"n\">nil</span>, tools : Array(<a href=\"../OpenRouter/Tool.html\">Tool</a>) = <span class=\"o\">[]</span> <span class=\"k\">of</span> <span class=\"t\">Tool</span>)","location":{"filename":"src/openrouter/types/completion_request.cr","line_number":98,"url":null},"def":{"name":"new","args":[{"name":"messages","external_name":"messages","restriction":"Array(Message)"},{"name":"model","default_value":"nil","external_name":"model","restriction":"String | ::Nil"},{"name":"tools","default_value":"[] of Tool","external_name":"tools","restriction":"Array(Tool)"}],"visibility":"Public","body":"_ = allocate\n_.initialize(messages, model, tools)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"},"external_var":false},{"html_id":"new(prompt:String,model:String|Nil=nil,tools:Array(Tool)=[]ofTool)-class-method","name":"new","abstract":false,"args":[{"name":"prompt","external_name":"prompt","restriction":"String"},{"name":"model","default_value":"nil","external_name":"model","restriction":"String | ::Nil"},{"name":"tools","default_value":"[] of Tool","external_name":"tools","restriction":"Array(Tool)"}],"args_string":"(prompt : String, model : String | Nil = nil, tools : Array(Tool) = [] of Tool)","args_html":"(prompt : String, model : String | Nil = <span class=\"n\">nil</span>, tools : Array(<a href=\"../OpenRouter/Tool.html\">Tool</a>) = <span class=\"o\">[]</span> <span class=\"k\">of</span> <span class=\"t\">Tool</span>)","location":{"filename":"src/openrouter/types/completion_request.cr","line_number":92,"url":null},"def":{"name":"new","args":[{"name":"prompt","external_name":"prompt","restriction":"String"},{"name":"model","default_value":"nil","external_name":"model","restriction":"String | ::Nil"},{"name":"tools","default_value":"[] of Tool","external_name":"tools","restriction":"Array(Tool)"}],"visibility":"Public","body":"_ = allocate\n_.initialize(prompt, model, tools)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"},"external_var":false}],"instance_methods":[{"html_id":"add_tool(tool:Tool)-instance-method","name":"add_tool","abstract":false,"args":[{"name":"tool","external_name":"tool","restriction":"Tool"}],"args_string":"(tool : Tool)","args_html":"(tool : <a href=\"../OpenRouter/Tool.html\">Tool</a>)","location":{"filename":"src/openrouter/types/completion_request.cr","line_number":104,"url":null},"def":{"name":"add_tool","args":[{"name":"tool","external_name":"tool","restriction":"Tool"}],"visibility":"Public","body":"@tools << tool"},"external_var":false},{"html_id":"force_tool_support:Bool-instance-method","name":"force_tool_support","abstract":false,"location":{"filename":"src/openrouter/types/completion_request.cr","line_number":19,"url":null},"def":{"name":"force_tool_support","return_type":"Bool","visibility":"Public","body":"@force_tool_support"},"external_var":false},{"html_id":"force_tool_support=(force_tool_support:Bool)-instance-method","name":"force_tool_support=","abstract":false,"args":[{"name":"force_tool_support","external_name":"force_tool_support","restriction":"Bool"}],"args_string":"(force_tool_support : Bool)","args_html":"(force_tool_support : Bool)","location":{"filename":"src/openrouter/types/completion_request.cr","line_number":19,"url":null},"def":{"name":"force_tool_support=","args":[{"name":"force_tool_support","external_name":"force_tool_support","restriction":"Bool"}],"visibility":"Public","body":"@force_tool_support = force_tool_support"},"external_var":false},{"html_id":"frequency_penalty:Float32|Nil-instance-method","name":"frequency_penalty","doc":"Range: (-2, 2)","summary":"<p>Range: (-2, 2)</p>","abstract":false,"location":{"filename":"src/openrouter/types/completion_request.cr","line_number":54,"url":null},"def":{"name":"frequency_penalty","return_type":"Float32 | ::Nil","visibility":"Public","body":"@frequency_penalty"},"external_var":false},{"html_id":"frequency_penalty=(frequency_penalty:Float32|Nil)-instance-method","name":"frequency_penalty=","doc":"Range: (-2, 2)","summary":"<p>Range: (-2, 2)</p>","abstract":false,"args":[{"name":"frequency_penalty","external_name":"frequency_penalty","restriction":"Float32 | ::Nil"}],"args_string":"(frequency_penalty : Float32 | Nil)","args_html":"(frequency_penalty : Float32 | Nil)","location":{"filename":"src/openrouter/types/completion_request.cr","line_number":54,"url":null},"def":{"name":"frequency_penalty=","args":[{"name":"frequency_penalty","external_name":"frequency_penalty","restriction":"Float32 | ::Nil"}],"visibility":"Public","body":"@frequency_penalty = frequency_penalty"},"external_var":false},{"html_id":"logit_bias_key:Float32|Nil-instance-method","name":"logit_bias_key","abstract":false,"location":{"filename":"src/openrouter/types/completion_request.cr","line_number":63,"url":null},"def":{"name":"logit_bias_key","return_type":"Float32 | ::Nil","visibility":"Public","body":"@logit_bias_key"},"external_var":false},{"html_id":"logit_bias_key=(logit_bias_key:Float32|Nil)-instance-method","name":"logit_bias_key=","abstract":false,"args":[{"name":"logit_bias_key","external_name":"logit_bias_key","restriction":"Float32 | ::Nil"}],"args_string":"(logit_bias_key : Float32 | Nil)","args_html":"(logit_bias_key : Float32 | Nil)","location":{"filename":"src/openrouter/types/completion_request.cr","line_number":63,"url":null},"def":{"name":"logit_bias_key=","args":[{"name":"logit_bias_key","external_name":"logit_bias_key","restriction":"Float32 | ::Nil"}],"visibility":"Public","body":"@logit_bias_key = logit_bias_key"},"external_var":false},{"html_id":"logit_bias_value:Float32|Nil-instance-method","name":"logit_bias_value","abstract":false,"location":{"filename":"src/openrouter/types/completion_request.cr","line_number":64,"url":null},"def":{"name":"logit_bias_value","return_type":"Float32 | ::Nil","visibility":"Public","body":"@logit_bias_value"},"external_var":false},{"html_id":"logit_bias_value=(logit_bias_value:Float32|Nil)-instance-method","name":"logit_bias_value=","abstract":false,"args":[{"name":"logit_bias_value","external_name":"logit_bias_value","restriction":"Float32 | ::Nil"}],"args_string":"(logit_bias_value : Float32 | Nil)","args_html":"(logit_bias_value : Float32 | Nil)","location":{"filename":"src/openrouter/types/completion_request.cr","line_number":64,"url":null},"def":{"name":"logit_bias_value=","args":[{"name":"logit_bias_value","external_name":"logit_bias_value","restriction":"Float32 | ::Nil"}],"visibility":"Public","body":"@logit_bias_value = logit_bias_value"},"external_var":false},{"html_id":"max_tokens:Int32|Nil-instance-method","name":"max_tokens","doc":"See LLM Parameters (openrouter.ai/docs/parameters)","summary":"<p>See LLM Parameters (openrouter.ai/docs/parameters)</p>","abstract":false,"location":{"filename":"src/openrouter/types/completion_request.cr","line_number":30,"url":null},"def":{"name":"max_tokens","return_type":"Int32 | ::Nil","visibility":"Public","body":"@max_tokens"},"external_var":false},{"html_id":"max_tokens=(max_tokens:Int32|Nil)-instance-method","name":"max_tokens=","doc":"See LLM Parameters (openrouter.ai/docs/parameters)","summary":"<p>See LLM Parameters (openrouter.ai/docs/parameters)</p>","abstract":false,"args":[{"name":"max_tokens","external_name":"max_tokens","restriction":"Int32 | ::Nil"}],"args_string":"(max_tokens : Int32 | Nil)","args_html":"(max_tokens : Int32 | Nil)","location":{"filename":"src/openrouter/types/completion_request.cr","line_number":30,"url":null},"def":{"name":"max_tokens=","args":[{"name":"max_tokens","external_name":"max_tokens","restriction":"Int32 | ::Nil"}],"visibility":"Public","body":"@max_tokens = max_tokens"},"external_var":false},{"html_id":"messages:Array(Message)|Nil-instance-method","name":"messages","doc":"The chat message history","summary":"<p>The chat message history</p>","abstract":false,"location":{"filename":"src/openrouter/types/completion_request.cr","line_number":8,"url":null},"def":{"name":"messages","return_type":"Array(Message) | ::Nil","visibility":"Public","body":"@messages"},"external_var":false},{"html_id":"messages=(messages:Array(Message)|Nil)-instance-method","name":"messages=","doc":"The chat message history","summary":"<p>The chat message history</p>","abstract":false,"args":[{"name":"messages","external_name":"messages","restriction":"Array(Message) | ::Nil"}],"args_string":"(messages : Array(Message) | Nil)","args_html":"(messages : Array(<a href=\"../OpenRouter/Message.html\">Message</a>) | Nil)","location":{"filename":"src/openrouter/types/completion_request.cr","line_number":8,"url":null},"def":{"name":"messages=","args":[{"name":"messages","external_name":"messages","restriction":"Array(Message) | ::Nil"}],"visibility":"Public","body":"@messages = messages"},"external_var":false},{"html_id":"min_p:Float32|Nil-instance-method","name":"min_p","doc":"Range: [0, 1]","summary":"<p>Range: [0, 1]</p>","abstract":false,"location":{"filename":"src/openrouter/types/completion_request.cr","line_number":69,"url":null},"def":{"name":"min_p","return_type":"Float32 | ::Nil","visibility":"Public","body":"@min_p"},"external_var":false},{"html_id":"min_p=(min_p:Float32|Nil)-instance-method","name":"min_p=","doc":"Range: [0, 1]","summary":"<p>Range: [0, 1]</p>","abstract":false,"args":[{"name":"min_p","external_name":"min_p","restriction":"Float32 | ::Nil"}],"args_string":"(min_p : Float32 | Nil)","args_html":"(min_p : Float32 | Nil)","location":{"filename":"src/openrouter/types/completion_request.cr","line_number":69,"url":null},"def":{"name":"min_p=","args":[{"name":"min_p","external_name":"min_p","restriction":"Float32 | ::Nil"}],"visibility":"Public","body":"@min_p = min_p"},"external_var":false},{"html_id":"model:String|Nil-instance-method","name":"model","doc":"The model to use.\n\nBrowse models at openrouter.ai/models,\nor use the `get_models` method of the OpenRouter::Client","summary":"<p>The model to use.</p>","abstract":false,"location":{"filename":"src/openrouter/types/completion_request.cr","line_number":17,"url":null},"def":{"name":"model","return_type":"String | ::Nil","visibility":"Public","body":"@model"},"external_var":false},{"html_id":"model=(model:String|Nil)-instance-method","name":"model=","doc":"The model to use.\n\nBrowse models at openrouter.ai/models,\nor use the `get_models` method of the OpenRouter::Client","summary":"<p>The model to use.</p>","abstract":false,"args":[{"name":"model","external_name":"model","restriction":"String | ::Nil"}],"args_string":"(model : String | Nil)","args_html":"(model : String | Nil)","location":{"filename":"src/openrouter/types/completion_request.cr","line_number":17,"url":null},"def":{"name":"model=","args":[{"name":"model","external_name":"model","restriction":"String | ::Nil"}],"visibility":"Public","body":"@model = model"},"external_var":false},{"html_id":"models:Array(String)|Nil-instance-method","name":"models","doc":"for models and route, See \"Model Routing\" section at openrouter.ai/docs/model-routing","summary":"<p>for models and route, See &quot;Model Routing&quot; section at openrouter.ai/docs/model-routing</p>","abstract":false,"location":{"filename":"src/openrouter/types/completion_request.cr","line_number":86,"url":null},"def":{"name":"models","return_type":"Array(String) | ::Nil","visibility":"Public","body":"@models"},"external_var":false},{"html_id":"models=(models:Array(String)|Nil)-instance-method","name":"models=","doc":"for models and route, See \"Model Routing\" section at openrouter.ai/docs/model-routing","summary":"<p>for models and route, See &quot;Model Routing&quot; section at openrouter.ai/docs/model-routing</p>","abstract":false,"args":[{"name":"models","external_name":"models","restriction":"Array(String) | ::Nil"}],"args_string":"(models : Array(String) | Nil)","args_html":"(models : Array(String) | Nil)","location":{"filename":"src/openrouter/types/completion_request.cr","line_number":86,"url":null},"def":{"name":"models=","args":[{"name":"models","external_name":"models","restriction":"Array(String) | ::Nil"}],"visibility":"Public","body":"@models = models"},"external_var":false},{"html_id":"presence_penalty:Float32|Nil-instance-method","name":"presence_penalty","doc":"Range: (-2, 2)","summary":"<p>Range: (-2, 2)</p>","abstract":false,"location":{"filename":"src/openrouter/types/completion_request.cr","line_number":57,"url":null},"def":{"name":"presence_penalty","return_type":"Float32 | ::Nil","visibility":"Public","body":"@presence_penalty"},"external_var":false},{"html_id":"presence_penalty=(presence_penalty:Float32|Nil)-instance-method","name":"presence_penalty=","doc":"Range: (-2, 2)","summary":"<p>Range: (-2, 2)</p>","abstract":false,"args":[{"name":"presence_penalty","external_name":"presence_penalty","restriction":"Float32 | ::Nil"}],"args_string":"(presence_penalty : Float32 | Nil)","args_html":"(presence_penalty : Float32 | Nil)","location":{"filename":"src/openrouter/types/completion_request.cr","line_number":57,"url":null},"def":{"name":"presence_penalty=","args":[{"name":"presence_penalty","external_name":"presence_penalty","restriction":"Float32 | ::Nil"}],"visibility":"Public","body":"@presence_penalty = presence_penalty"},"external_var":false},{"html_id":"prompt:String|Nil-instance-method","name":"prompt","doc":"A simple text prompt","summary":"<p>A simple text prompt</p>","abstract":false,"location":{"filename":"src/openrouter/types/completion_request.cr","line_number":11,"url":null},"def":{"name":"prompt","return_type":"String | ::Nil","visibility":"Public","body":"@prompt"},"external_var":false},{"html_id":"prompt=(prompt:String|Nil)-instance-method","name":"prompt=","doc":"A simple text prompt","summary":"<p>A simple text prompt</p>","abstract":false,"args":[{"name":"prompt","external_name":"prompt","restriction":"String | ::Nil"}],"args_string":"(prompt : String | Nil)","args_html":"(prompt : String | Nil)","location":{"filename":"src/openrouter/types/completion_request.cr","line_number":11,"url":null},"def":{"name":"prompt=","args":[{"name":"prompt","external_name":"prompt","restriction":"String | ::Nil"}],"visibility":"Public","body":"@prompt = prompt"},"external_var":false},{"html_id":"provider:String|Nil-instance-method","name":"provider","doc":"See \"Provider Routing\" section: openrouter.ai/docs/provider-routing","summary":"<p>See &quot;Provider Routing&quot; section: openrouter.ai/docs/provider-routing</p>","abstract":false,"location":{"filename":"src/openrouter/types/completion_request.cr","line_number":90,"url":null},"def":{"name":"provider","return_type":"String | ::Nil","visibility":"Public","body":"@provider"},"external_var":false},{"html_id":"provider=(provider:String|Nil)-instance-method","name":"provider=","doc":"See \"Provider Routing\" section: openrouter.ai/docs/provider-routing","summary":"<p>See &quot;Provider Routing&quot; section: openrouter.ai/docs/provider-routing</p>","abstract":false,"args":[{"name":"provider","external_name":"provider","restriction":"String | ::Nil"}],"args_string":"(provider : String | Nil)","args_html":"(provider : String | Nil)","location":{"filename":"src/openrouter/types/completion_request.cr","line_number":90,"url":null},"def":{"name":"provider=","args":[{"name":"provider","external_name":"provider","restriction":"String | ::Nil"}],"visibility":"Public","body":"@provider = provider"},"external_var":false},{"html_id":"reasoning:Reasoning|Nil-instance-method","name":"reasoning","doc":"Reasoning configuration for models that support reasoning tokens","summary":"<p>Reasoning configuration for models that support reasoning tokens</p>","abstract":false,"location":{"filename":"src/openrouter/types/completion_request.cr","line_number":41,"url":null},"def":{"name":"reasoning","return_type":"Reasoning | ::Nil","visibility":"Public","body":"@reasoning"},"external_var":false},{"html_id":"reasoning=(reasoning:Reasoning|Nil)-instance-method","name":"reasoning=","doc":"Reasoning configuration for models that support reasoning tokens","summary":"<p>Reasoning configuration for models that support reasoning tokens</p>","abstract":false,"args":[{"name":"reasoning","external_name":"reasoning","restriction":"Reasoning | ::Nil"}],"args_string":"(reasoning : Reasoning | Nil)","args_html":"(reasoning : <a href=\"../OpenRouter/Reasoning.html\">Reasoning</a> | Nil)","location":{"filename":"src/openrouter/types/completion_request.cr","line_number":41,"url":null},"def":{"name":"reasoning=","args":[{"name":"reasoning","external_name":"reasoning","restriction":"Reasoning | ::Nil"}],"visibility":"Public","body":"@reasoning = reasoning"},"external_var":false},{"html_id":"repetition_penalty:Float32|Nil-instance-method","name":"repetition_penalty","doc":"Range: (0, 29)","summary":"<p>Range: (0, 29)</p>","abstract":false,"location":{"filename":"src/openrouter/types/completion_request.cr","line_number":60,"url":null},"def":{"name":"repetition_penalty","return_type":"Float32 | ::Nil","visibility":"Public","body":"@repetition_penalty"},"external_var":false},{"html_id":"repetition_penalty=(repetition_penalty:Float32|Nil)-instance-method","name":"repetition_penalty=","doc":"Range: (0, 29)","summary":"<p>Range: (0, 29)</p>","abstract":false,"args":[{"name":"repetition_penalty","external_name":"repetition_penalty","restriction":"Float32 | ::Nil"}],"args_string":"(repetition_penalty : Float32 | Nil)","args_html":"(repetition_penalty : Float32 | Nil)","location":{"filename":"src/openrouter/types/completion_request.cr","line_number":60,"url":null},"def":{"name":"repetition_penalty=","args":[{"name":"repetition_penalty","external_name":"repetition_penalty","restriction":"Float32 | ::Nil"}],"visibility":"Public","body":"@repetition_penalty = repetition_penalty"},"external_var":false},{"html_id":"respond_with_json:Bool-instance-method","name":"respond_with_json","abstract":false,"location":{"filename":"src/openrouter/types/completion_request.cr","line_number":21,"url":null},"def":{"name":"respond_with_json","return_type":"Bool","visibility":"Public","body":"@respond_with_json"},"external_var":false},{"html_id":"respond_with_json=(respond_with_json:Bool)-instance-method","name":"respond_with_json=","abstract":false,"args":[{"name":"respond_with_json","external_name":"respond_with_json","restriction":"Bool"}],"args_string":"(respond_with_json : Bool)","args_html":"(respond_with_json : Bool)","location":{"filename":"src/openrouter/types/completion_request.cr","line_number":21,"url":null},"def":{"name":"respond_with_json=","args":[{"name":"respond_with_json","external_name":"respond_with_json","restriction":"Bool"}],"visibility":"Public","body":"@respond_with_json = respond_with_json"},"external_var":false},{"html_id":"route:String|Nil-instance-method","name":"route","abstract":false,"location":{"filename":"src/openrouter/types/completion_request.cr","line_number":87,"url":null},"def":{"name":"route","return_type":"String | ::Nil","visibility":"Public","body":"@route"},"external_var":false},{"html_id":"route=(route:String|Nil)-instance-method","name":"route=","abstract":false,"args":[{"name":"route","external_name":"route","restriction":"String | ::Nil"}],"args_string":"(route : String | Nil)","args_html":"(route : String | Nil)","location":{"filename":"src/openrouter/types/completion_request.cr","line_number":87,"url":null},"def":{"name":"route=","args":[{"name":"route","external_name":"route","restriction":"String | ::Nil"}],"visibility":"Public","body":"@route = route"},"external_var":false},{"html_id":"seed:Int32|Nil-instance-method","name":"seed","doc":"### Advanced optional parameters #####","summary":"<h3><a id=\"advanced-optional-parameters\" class=\"anchor\" href=\"#advanced-optional-parameters\">  <svg class=\"octicon-link\" aria-hidden=\"true\">\n    <use href=\"#octicon-link\"/>\n  </svg>\n</a>Advanced optional parameters</h3>","abstract":false,"location":{"filename":"src/openrouter/types/completion_request.cr","line_number":45,"url":null},"def":{"name":"seed","return_type":"Int32 | ::Nil","visibility":"Public","body":"@seed"},"external_var":false},{"html_id":"seed=(seed:Int32|Nil)-instance-method","name":"seed=","doc":"### Advanced optional parameters #####","summary":"<h3><a id=\"advanced-optional-parameters\" class=\"anchor\" href=\"#advanced-optional-parameters\">  <svg class=\"octicon-link\" aria-hidden=\"true\">\n    <use href=\"#octicon-link\"/>\n  </svg>\n</a>Advanced optional parameters</h3>","abstract":false,"args":[{"name":"seed","external_name":"seed","restriction":"Int32 | ::Nil"}],"args_string":"(seed : Int32 | Nil)","args_html":"(seed : Int32 | Nil)","location":{"filename":"src/openrouter/types/completion_request.cr","line_number":45,"url":null},"def":{"name":"seed=","args":[{"name":"seed","external_name":"seed","restriction":"Int32 | ::Nil"}],"visibility":"Public","body":"@seed = seed"},"external_var":false},{"html_id":"stop:String|Array(String)|Nil-instance-method","name":"stop","doc":"the stop tokens","summary":"<p>the stop tokens</p>","abstract":false,"location":{"filename":"src/openrouter/types/completion_request.cr","line_number":24,"url":null},"def":{"name":"stop","return_type":"String | Array(String) | Nil","visibility":"Public","body":"@stop"},"external_var":false},{"html_id":"stop=(stop:String|Array(String)|Nil)-instance-method","name":"stop=","doc":"the stop tokens","summary":"<p>the stop tokens</p>","abstract":false,"args":[{"name":"stop","external_name":"stop","restriction":"String | Array(String) | Nil"}],"args_string":"(stop : String | Array(String) | Nil)","args_html":"(stop : String | Array(String) | Nil)","location":{"filename":"src/openrouter/types/completion_request.cr","line_number":24,"url":null},"def":{"name":"stop=","args":[{"name":"stop","external_name":"stop","restriction":"String | Array(String) | Nil"}],"visibility":"Public","body":"@stop = stop"},"external_var":false},{"html_id":"stream:Bool-instance-method","name":"stream","doc":"whether to stream the response","summary":"<p>whether to stream the response</p>","abstract":false,"location":{"filename":"src/openrouter/types/completion_request.cr","line_number":27,"url":null},"def":{"name":"stream","return_type":"Bool","visibility":"Public","body":"@stream"},"external_var":false},{"html_id":"stream=(stream:Bool)-instance-method","name":"stream=","doc":"whether to stream the response","summary":"<p>whether to stream the response</p>","abstract":false,"args":[{"name":"stream","external_name":"stream","restriction":"Bool"}],"args_string":"(stream : Bool)","args_html":"(stream : Bool)","location":{"filename":"src/openrouter/types/completion_request.cr","line_number":27,"url":null},"def":{"name":"stream=","args":[{"name":"stream","external_name":"stream","restriction":"Bool"}],"visibility":"Public","body":"@stream = stream"},"external_var":false},{"html_id":"temperature:Float32|Nil-instance-method","name":"temperature","abstract":false,"location":{"filename":"src/openrouter/types/completion_request.cr","line_number":31,"url":null},"def":{"name":"temperature","return_type":"Float32 | ::Nil","visibility":"Public","body":"@temperature"},"external_var":false},{"html_id":"temperature=(temperature:Float32|Nil)-instance-method","name":"temperature=","abstract":false,"args":[{"name":"temperature","external_name":"temperature","restriction":"Float32 | ::Nil"}],"args_string":"(temperature : Float32 | Nil)","args_html":"(temperature : Float32 | Nil)","location":{"filename":"src/openrouter/types/completion_request.cr","line_number":31,"url":null},"def":{"name":"temperature=","args":[{"name":"temperature","external_name":"temperature","restriction":"Float32 | ::Nil"}],"visibility":"Public","body":"@temperature = temperature"},"external_var":false},{"html_id":"to_json(io:IO)-instance-method","name":"to_json","abstract":false,"args":[{"name":"io","external_name":"io","restriction":"IO"}],"args_string":"(io : IO)","args_html":"(io : IO)","location":{"filename":"src/openrouter/types/completion_request.cr","line_number":108,"url":null},"def":{"name":"to_json","args":[{"name":"io","external_name":"io","restriction":"IO"}],"visibility":"Public","body":"JSON.build(io) do |json|\n  to_json(json)\nend"},"external_var":false},{"html_id":"to_json(json:JSON::Builder)-instance-method","name":"to_json","abstract":false,"args":[{"name":"json","external_name":"json","restriction":"JSON::Builder"}],"args_string":"(json : JSON::Builder)","args_html":"(json : JSON::Builder)","location":{"filename":"src/openrouter/types/completion_request.cr","line_number":114,"url":null},"def":{"name":"to_json","args":[{"name":"json","external_name":"json","restriction":"JSON::Builder"}],"visibility":"Public","body":"json.object do\n  if @prompt\n    json.field(\"prompt\", @prompt)\n  else\n    if @messages\n      messages = @messages.not_nil!\n\n      if messages[0].role == Role::System\n        system_message = messages.shift\n      else\n        system_message = Message.new(role: Role::System, content: \"\")\n      end\n\n      if @tools && @force_tool_support\n        system_content = system_message.content_string\n\n\n\n        tools_json = @tools.map(&.to_json).join(\"\\n\")\n\n        system_content = system_content + \"# Tools\\nYou have access to the following tool functions:\\n#{tools_json}\\n\\nTo perform a tool call, respond with a JSON object containing the tool calls and an optional message. For example:\\n{\\n    \\\"message\\\": \\\"Let me see check the current weather in Tokyo for you...\\\"\\n    \\\"tool_calls\\\": [\\n        {\\n            \\\"function\\\": {\\n                \\\"name\\\": \\\"get_weather\\\",\\n                \\\"arguments\\\": \\\"{ \\\\\\\"location\\\\\\\": \\\\\\\"Tokyo\\\\\\\" }\\\"\\n            }\\n        }\\n    ]\\n}\"\n\n        system_message.content = system_content\n      end\n\n      messages.unshift(system_message)\n\n      json.field(\"messages\") do\n        json.array do\n          messages.not_nil!.each_with_index do |message, index|\n            message.to_json(json)\n          end\n        end\n      end\n    else\n      raise(\"Invalid CompletionRequest: Either prompt or messages must be set.\")\n    end\n  end\n\n  if @model\n    json.field(\"model\", @model)\n  end\n  if @stop\n    json.field(\"stop\", @stop)\n  end\n  if @stream\n    json.field(\"stream\", @stream)\n  end\n  if @max_tokens\n    json.field(\"max_tokens\", @max_tokens)\n  end\n  if @temperature\n    json.field(\"temperature\", @temperature)\n  end\n  if @seed\n    json.field(\"seed\", @seed)\n  end\n  if @top_p\n    json.field(\"top_p\", @top_p)\n  end\n  if @top_k\n    json.field(\"top_k\", @top_k)\n  end\n  if @frequency_penalty\n    json.field(\"frequency_penalty\", @frequency_penalty)\n  end\n  if @presence_penalty\n    json.field(\"presence_penalty\", @presence_penalty)\n  end\n  if @repetition_penalty\n    json.field(\"repetition_penalty\", @repetition_penalty)\n  end\n  if @logit_bias_key\n    json.field(\"logit_bias_key\", @logit_bias_key)\n  end\n  if @logit_bias_value\n    json.field(\"logit_bias_value\", @logit_bias_value)\n  end\n  if @top_logprobs\n    json.field(\"top_logprobs\", @top_logprobs)\n  end\n  if @min_p\n    json.field(\"min_p\", @min_p)\n  end\n  if @top_a\n    json.field(\"top_a\", @top_a)\n  end\n  if @transforms\n    json.field(\"transforms\", @transforms)\n  end\n  if @models\n    json.field(\"models\", @models)\n  end\n  if @route\n    json.field(\"route\", @route)\n  end\n  if @provider\n    json.field(\"provider\", @provider)\n  end\n\n  if @tools && !@force_tool_support\n    if @tools\n      json.field(\"tools\", @tools)\n    end\n  end\n\n  if @reasoning\n    json.field(\"reasoning\", @reasoning)\n  end\n\n  if @respond_with_json\n    json.field(\"response_format\") do\n      json.object do\n        json.field(\"type\", \"json_object\")\n      end\n    end\n  end\nend"},"external_var":false},{"html_id":"tools:Array(Tool)-instance-method","name":"tools","doc":"Tool calling\nWill be passed down as-is for providers implementing OpenAI's interface.\nFor providers with custom interfaces, we transform and map the properties.\nOtherwise, we transform the tools into a YAML template. The model responds with an assistant message.\nSee models supporting tool calling: openrouter.ai/models?supported_parameters=tools","summary":"<p>Tool calling Will be passed down as-is for providers implementing OpenAI's interface.</p>","abstract":false,"location":{"filename":"src/openrouter/types/completion_request.cr","line_number":38,"url":null},"def":{"name":"tools","return_type":"Array(Tool)","visibility":"Public","body":"@tools"},"external_var":false},{"html_id":"tools=(tools:Array(Tool))-instance-method","name":"tools=","doc":"Tool calling\nWill be passed down as-is for providers implementing OpenAI's interface.\nFor providers with custom interfaces, we transform and map the properties.\nOtherwise, we transform the tools into a YAML template. The model responds with an assistant message.\nSee models supporting tool calling: openrouter.ai/models?supported_parameters=tools","summary":"<p>Tool calling Will be passed down as-is for providers implementing OpenAI's interface.</p>","abstract":false,"args":[{"name":"tools","external_name":"tools","restriction":"Array(Tool)"}],"args_string":"(tools : Array(Tool))","args_html":"(tools : Array(<a href=\"../OpenRouter/Tool.html\">Tool</a>))","location":{"filename":"src/openrouter/types/completion_request.cr","line_number":38,"url":null},"def":{"name":"tools=","args":[{"name":"tools","external_name":"tools","restriction":"Array(Tool)"}],"visibility":"Public","body":"@tools = tools"},"external_var":false},{"html_id":"top_a:Float32|Nil-instance-method","name":"top_a","doc":"Range: [0, 1]","summary":"<p>Range: [0, 1]</p>","abstract":false,"location":{"filename":"src/openrouter/types/completion_request.cr","line_number":72,"url":null},"def":{"name":"top_a","return_type":"Float32 | ::Nil","visibility":"Public","body":"@top_a"},"external_var":false},{"html_id":"top_a=(top_a:Float32|Nil)-instance-method","name":"top_a=","doc":"Range: [0, 1]","summary":"<p>Range: [0, 1]</p>","abstract":false,"args":[{"name":"top_a","external_name":"top_a","restriction":"Float32 | ::Nil"}],"args_string":"(top_a : Float32 | Nil)","args_html":"(top_a : Float32 | Nil)","location":{"filename":"src/openrouter/types/completion_request.cr","line_number":72,"url":null},"def":{"name":"top_a=","args":[{"name":"top_a","external_name":"top_a","restriction":"Float32 | ::Nil"}],"visibility":"Public","body":"@top_a = top_a"},"external_var":false},{"html_id":"top_k:Float32|Nil-instance-method","name":"top_k","doc":"Range: (1, Infinity) Not available for OpenAI models","summary":"<p>Range: (1, Infinity) Not available for OpenAI models</p>","abstract":false,"location":{"filename":"src/openrouter/types/completion_request.cr","line_number":51,"url":null},"def":{"name":"top_k","return_type":"Float32 | ::Nil","visibility":"Public","body":"@top_k"},"external_var":false},{"html_id":"top_k=(top_k:Float32|Nil)-instance-method","name":"top_k=","doc":"Range: (1, Infinity) Not available for OpenAI models","summary":"<p>Range: (1, Infinity) Not available for OpenAI models</p>","abstract":false,"args":[{"name":"top_k","external_name":"top_k","restriction":"Float32 | ::Nil"}],"args_string":"(top_k : Float32 | Nil)","args_html":"(top_k : Float32 | Nil)","location":{"filename":"src/openrouter/types/completion_request.cr","line_number":51,"url":null},"def":{"name":"top_k=","args":[{"name":"top_k","external_name":"top_k","restriction":"Float32 | ::Nil"}],"visibility":"Public","body":"@top_k = top_k"},"external_var":false},{"html_id":"top_logprobs:Int32|Nil-instance-method","name":"top_logprobs","abstract":false,"location":{"filename":"src/openrouter/types/completion_request.cr","line_number":66,"url":null},"def":{"name":"top_logprobs","return_type":"Int32 | ::Nil","visibility":"Public","body":"@top_logprobs"},"external_var":false},{"html_id":"top_logprobs=(top_logprobs:Int32|Nil)-instance-method","name":"top_logprobs=","abstract":false,"args":[{"name":"top_logprobs","external_name":"top_logprobs","restriction":"Int32 | ::Nil"}],"args_string":"(top_logprobs : Int32 | Nil)","args_html":"(top_logprobs : Int32 | Nil)","location":{"filename":"src/openrouter/types/completion_request.cr","line_number":66,"url":null},"def":{"name":"top_logprobs=","args":[{"name":"top_logprobs","external_name":"top_logprobs","restriction":"Int32 | ::Nil"}],"visibility":"Public","body":"@top_logprobs = top_logprobs"},"external_var":false},{"html_id":"top_p:Float32|Nil-instance-method","name":"top_p","doc":"Range: (0, 1)","summary":"<p>Range: (0, 1)</p>","abstract":false,"location":{"filename":"src/openrouter/types/completion_request.cr","line_number":48,"url":null},"def":{"name":"top_p","return_type":"Float32 | ::Nil","visibility":"Public","body":"@top_p"},"external_var":false},{"html_id":"top_p=(top_p:Float32|Nil)-instance-method","name":"top_p=","doc":"Range: (0, 1)","summary":"<p>Range: (0, 1)</p>","abstract":false,"args":[{"name":"top_p","external_name":"top_p","restriction":"Float32 | ::Nil"}],"args_string":"(top_p : Float32 | Nil)","args_html":"(top_p : Float32 | Nil)","location":{"filename":"src/openrouter/types/completion_request.cr","line_number":48,"url":null},"def":{"name":"top_p=","args":[{"name":"top_p","external_name":"top_p","restriction":"Float32 | ::Nil"}],"visibility":"Public","body":"@top_p = top_p"},"external_var":false},{"html_id":"transforms:Array(String)|Nil-instance-method","name":"transforms","doc":"Reduce latency by providing the model with a predicted output\nhttps://platform.openai.com/docs/guides/latency-optimization#use-predicted-outputs\nprediction?: { type: 'content'; content: string; };\n### OpenRouter-only parameters #####\nprovider?: ProviderPreferences;\n// See \"Prompt Transforms\" section at openrouter.ai/docs/transforms","summary":"<p>Reduce latency by providing the model with a predicted output https://platform.openai.com/docs/guides/latency-optimization#use-predicted-outputs prediction?: { type: 'content'; content: string; }; ### OpenRouter-only parameters ##### provider?: ProviderPreferences; // See &quot;Prompt Transforms&quot; section at openrouter.ai/docs/transforms</p>","abstract":false,"location":{"filename":"src/openrouter/types/completion_request.cr","line_number":83,"url":null},"def":{"name":"transforms","return_type":"Array(String) | ::Nil","visibility":"Public","body":"@transforms"},"external_var":false},{"html_id":"transforms=(transforms:Array(String)|Nil)-instance-method","name":"transforms=","doc":"Reduce latency by providing the model with a predicted output\nhttps://platform.openai.com/docs/guides/latency-optimization#use-predicted-outputs\nprediction?: { type: 'content'; content: string; };\n### OpenRouter-only parameters #####\nprovider?: ProviderPreferences;\n// See \"Prompt Transforms\" section at openrouter.ai/docs/transforms","summary":"<p>Reduce latency by providing the model with a predicted output https://platform.openai.com/docs/guides/latency-optimization#use-predicted-outputs prediction?: { type: 'content'; content: string; }; ### OpenRouter-only parameters ##### provider?: ProviderPreferences; // See &quot;Prompt Transforms&quot; section at openrouter.ai/docs/transforms</p>","abstract":false,"args":[{"name":"transforms","external_name":"transforms","restriction":"Array(String) | ::Nil"}],"args_string":"(transforms : Array(String) | Nil)","args_html":"(transforms : Array(String) | Nil)","location":{"filename":"src/openrouter/types/completion_request.cr","line_number":83,"url":null},"def":{"name":"transforms=","args":[{"name":"transforms","external_name":"transforms","restriction":"Array(String) | ::Nil"}],"visibility":"Public","body":"@transforms = transforms"},"external_var":false}]},{"html_id":"openrouter/OpenRouter/Content","path":"OpenRouter/Content.html","kind":"alias","full_name":"OpenRouter::Content","name":"Content","abstract":false,"locations":[{"filename":"src/openrouter/types/message.cr","line_number":17,"url":null}],"repository_name":"openrouter","program":false,"enum":false,"alias":true,"aliased":"(Array(NamedTuple(type: String, value: String)) | String)","aliased_html":"Array({type: String, value: String}) | String","const":false,"namespace":{"html_id":"openrouter/OpenRouter","kind":"module","full_name":"OpenRouter","name":"OpenRouter"},"doc":"The content type of a Message","summary":"<p>The content type of a Message</p>"},{"html_id":"openrouter/OpenRouter/ContentPart","path":"OpenRouter/ContentPart.html","kind":"alias","full_name":"OpenRouter::ContentPart","name":"ContentPart","abstract":false,"locations":[{"filename":"src/openrouter/types/message.cr","line_number":14,"url":null}],"repository_name":"openrouter","program":false,"enum":false,"alias":true,"aliased":"NamedTuple(type: String, value: String)","aliased_html":"{type: String, value: String}","const":false,"namespace":{"html_id":"openrouter/OpenRouter","kind":"module","full_name":"OpenRouter","name":"OpenRouter"},"doc":"One content part in a multi-modal message.","summary":"<p>One content part in a multi-modal message.</p>"},{"html_id":"openrouter/OpenRouter/Error","path":"OpenRouter/Error.html","kind":"class","full_name":"OpenRouter::Error","name":"Error","abstract":false,"superclass":{"html_id":"openrouter/Exception","kind":"class","full_name":"Exception","name":"Exception"},"ancestors":[{"html_id":"openrouter/Exception","kind":"class","full_name":"Exception","name":"Exception"},{"html_id":"openrouter/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"openrouter/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/openrouter/errors.cr","line_number":3,"url":null}],"repository_name":"openrouter","program":false,"enum":false,"alias":false,"const":false,"subclasses":[{"html_id":"openrouter/OpenRouter/ApiError","kind":"class","full_name":"OpenRouter::ApiError","name":"ApiError"},{"html_id":"openrouter/OpenRouter/BadGatewayError","kind":"class","full_name":"OpenRouter::BadGatewayError","name":"BadGatewayError"},{"html_id":"openrouter/OpenRouter/BadRequestError","kind":"class","full_name":"OpenRouter::BadRequestError","name":"BadRequestError"},{"html_id":"openrouter/OpenRouter/ForbiddenError","kind":"class","full_name":"OpenRouter::ForbiddenError","name":"ForbiddenError"},{"html_id":"openrouter/OpenRouter/PaymentRequiredError","kind":"class","full_name":"OpenRouter::PaymentRequiredError","name":"PaymentRequiredError"},{"html_id":"openrouter/OpenRouter/RequestTimeoutError","kind":"class","full_name":"OpenRouter::RequestTimeoutError","name":"RequestTimeoutError"},{"html_id":"openrouter/OpenRouter/ServiceUnavailableError","kind":"class","full_name":"OpenRouter::ServiceUnavailableError","name":"ServiceUnavailableError"},{"html_id":"openrouter/OpenRouter/TooManyRequestsError","kind":"class","full_name":"OpenRouter::TooManyRequestsError","name":"TooManyRequestsError"},{"html_id":"openrouter/OpenRouter/UnauthorizedError","kind":"class","full_name":"OpenRouter::UnauthorizedError","name":"UnauthorizedError"}],"namespace":{"html_id":"openrouter/OpenRouter","kind":"module","full_name":"OpenRouter","name":"OpenRouter"},"constructors":[{"html_id":"new(message:String)-class-method","name":"new","abstract":false,"args":[{"name":"message","external_name":"message","restriction":"String"}],"args_string":"(message : String)","args_html":"(message : String)","location":{"filename":"src/openrouter/errors.cr","line_number":4,"url":null},"def":{"name":"new","args":[{"name":"message","external_name":"message","restriction":"String"}],"visibility":"Public","body":"_ = allocate\n_.initialize(message)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"},"external_var":false}]},{"html_id":"openrouter/OpenRouter/ForbiddenError","path":"OpenRouter/ForbiddenError.html","kind":"class","full_name":"OpenRouter::ForbiddenError","name":"ForbiddenError","abstract":false,"superclass":{"html_id":"openrouter/OpenRouter/Error","kind":"class","full_name":"OpenRouter::Error","name":"Error"},"ancestors":[{"html_id":"openrouter/OpenRouter/Error","kind":"class","full_name":"OpenRouter::Error","name":"Error"},{"html_id":"openrouter/Exception","kind":"class","full_name":"Exception","name":"Exception"},{"html_id":"openrouter/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"openrouter/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/openrouter/errors.cr","line_number":12,"url":null}],"repository_name":"openrouter","program":false,"enum":false,"alias":false,"const":false,"namespace":{"html_id":"openrouter/OpenRouter","kind":"module","full_name":"OpenRouter","name":"OpenRouter"}},{"html_id":"openrouter/OpenRouter/Function","path":"OpenRouter/Function.html","kind":"class","full_name":"OpenRouter::Function","name":"Function","abstract":false,"superclass":{"html_id":"openrouter/Reference","kind":"class","full_name":"Reference","name":"Reference"},"ancestors":[{"html_id":"openrouter/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"openrouter/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/openrouter/types/tool.cr","line_number":47,"url":null}],"repository_name":"openrouter","program":false,"enum":false,"alias":false,"const":false,"namespace":{"html_id":"openrouter/OpenRouter","kind":"module","full_name":"OpenRouter","name":"OpenRouter"},"constructors":[{"html_id":"new(name:String,description:String|Nil=nil,parameters:Array(FunctionParameter)=[]ofFunctionParameter)-class-method","name":"new","abstract":false,"args":[{"name":"name","external_name":"name","restriction":"String"},{"name":"description","default_value":"nil","external_name":"description","restriction":"String | ::Nil"},{"name":"parameters","default_value":"[] of FunctionParameter","external_name":"parameters","restriction":"Array(FunctionParameter)"}],"args_string":"(name : String, description : String | Nil = nil, parameters : Array(FunctionParameter) = [] of FunctionParameter)","args_html":"(name : String, description : String | Nil = <span class=\"n\">nil</span>, parameters : Array(<a href=\"../OpenRouter/FunctionParameter.html\">FunctionParameter</a>) = <span class=\"o\">[]</span> <span class=\"k\">of</span> <span class=\"t\">FunctionParameter</span>)","location":{"filename":"src/openrouter/types/tool.cr","line_number":53,"url":null},"def":{"name":"new","args":[{"name":"name","external_name":"name","restriction":"String"},{"name":"description","default_value":"nil","external_name":"description","restriction":"String | ::Nil"},{"name":"parameters","default_value":"[] of FunctionParameter","external_name":"parameters","restriction":"Array(FunctionParameter)"}],"visibility":"Public","body":"_ = allocate\n_.initialize(name, description, parameters)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"},"external_var":false}],"instance_methods":[{"html_id":"description:String|Nil-instance-method","name":"description","abstract":false,"location":{"filename":"src/openrouter/types/tool.cr","line_number":49,"url":null},"def":{"name":"description","return_type":"String | ::Nil","visibility":"Public","body":"@description"},"external_var":false},{"html_id":"description=(description:String|Nil)-instance-method","name":"description=","abstract":false,"args":[{"name":"description","external_name":"description","restriction":"String | ::Nil"}],"args_string":"(description : String | Nil)","args_html":"(description : String | Nil)","location":{"filename":"src/openrouter/types/tool.cr","line_number":49,"url":null},"def":{"name":"description=","args":[{"name":"description","external_name":"description","restriction":"String | ::Nil"}],"visibility":"Public","body":"@description = description"},"external_var":false},{"html_id":"name:String-instance-method","name":"name","abstract":false,"location":{"filename":"src/openrouter/types/tool.cr","line_number":48,"url":null},"def":{"name":"name","return_type":"String","visibility":"Public","body":"@name"},"external_var":false},{"html_id":"name=(name:String)-instance-method","name":"name=","abstract":false,"args":[{"name":"name","external_name":"name","restriction":"String"}],"args_string":"(name : String)","args_html":"(name : String)","location":{"filename":"src/openrouter/types/tool.cr","line_number":48,"url":null},"def":{"name":"name=","args":[{"name":"name","external_name":"name","restriction":"String"}],"visibility":"Public","body":"@name = name"},"external_var":false},{"html_id":"parameters:Array(FunctionParameter)-instance-method","name":"parameters","abstract":false,"location":{"filename":"src/openrouter/types/tool.cr","line_number":51,"url":null},"def":{"name":"parameters","return_type":"Array(FunctionParameter)","visibility":"Public","body":"@parameters"},"external_var":false},{"html_id":"parameters=(parameters:Array(FunctionParameter))-instance-method","name":"parameters=","abstract":false,"args":[{"name":"parameters","external_name":"parameters","restriction":"Array(FunctionParameter)"}],"args_string":"(parameters : Array(FunctionParameter))","args_html":"(parameters : Array(<a href=\"../OpenRouter/FunctionParameter.html\">FunctionParameter</a>))","location":{"filename":"src/openrouter/types/tool.cr","line_number":51,"url":null},"def":{"name":"parameters=","args":[{"name":"parameters","external_name":"parameters","restriction":"Array(FunctionParameter)"}],"visibility":"Public","body":"@parameters = parameters"},"external_var":false},{"html_id":"to_json(io:IO)-instance-method","name":"to_json","abstract":false,"args":[{"name":"io","external_name":"io","restriction":"IO"}],"args_string":"(io : IO)","args_html":"(io : IO)","location":{"filename":"src/openrouter/types/tool.cr","line_number":63,"url":null},"def":{"name":"to_json","args":[{"name":"io","external_name":"io","restriction":"IO"}],"visibility":"Public","body":"JSON.build(io) do |json|\n  to_json(json)\nend"},"external_var":false},{"html_id":"to_json(json:JSON::Builder)-instance-method","name":"to_json","abstract":false,"args":[{"name":"json","external_name":"json","restriction":"JSON::Builder"}],"args_string":"(json : JSON::Builder)","args_html":"(json : JSON::Builder)","location":{"filename":"src/openrouter/types/tool.cr","line_number":69,"url":null},"def":{"name":"to_json","args":[{"name":"json","external_name":"json","restriction":"JSON::Builder"}],"visibility":"Public","body":"json.object do\n  json.field(\"name\", @name)\n\n  if @description\n    json.field(\"description\", @description)\n  end\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n  json.field(\"parameters\") do\n    json.object do\n      json.field(\"type\", \"object\")\n      json.field(\"properties\") do\n        json.object do\n          @parameters.each do |parameter|\n            json.field(parameter.name) do\n              parameter.to_json(json)\n            end\n          end\n        end\n      end\n\n\n      if @parameters.any?(&.required)\n        json.field(\"required\") do\n          json.array do\n            @parameters.each do |parameter|\n              if parameter.required\n                json.string(parameter.name)\n              end\n            end\n          end\n        end\n      end\n    end\n  end\nend"},"external_var":false}]},{"html_id":"openrouter/OpenRouter/FunctionParameter","path":"OpenRouter/FunctionParameter.html","kind":"class","full_name":"OpenRouter::FunctionParameter","name":"FunctionParameter","abstract":false,"superclass":{"html_id":"openrouter/Reference","kind":"class","full_name":"Reference","name":"Reference"},"ancestors":[{"html_id":"openrouter/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"openrouter/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/openrouter/types/tool.cr","line_number":3,"url":null}],"repository_name":"openrouter","program":false,"enum":false,"alias":false,"const":false,"namespace":{"html_id":"openrouter/OpenRouter","kind":"module","full_name":"OpenRouter","name":"OpenRouter"},"constructors":[{"html_id":"new(name:String,type:String,description:String,required:Bool=false,items_type:String|Nil=nil)-class-method","name":"new","abstract":false,"args":[{"name":"name","external_name":"name","restriction":"String"},{"name":"type","external_name":"type","restriction":"String"},{"name":"description","external_name":"description","restriction":"String"},{"name":"required","default_value":"false","external_name":"required","restriction":"Bool"},{"name":"items_type","default_value":"nil","external_name":"items_type","restriction":"String | ::Nil"}],"args_string":"(name : String, type : String, description : String, required : Bool = false, items_type : String | Nil = nil)","args_html":"(name : String, type : String, description : String, required : Bool = <span class=\"n\">false</span>, items_type : String | Nil = <span class=\"n\">nil</span>)","location":{"filename":"src/openrouter/types/tool.cr","line_number":10,"url":null},"def":{"name":"new","args":[{"name":"name","external_name":"name","restriction":"String"},{"name":"type","external_name":"type","restriction":"String"},{"name":"description","external_name":"description","restriction":"String"},{"name":"required","default_value":"false","external_name":"required","restriction":"Bool"},{"name":"items_type","default_value":"nil","external_name":"items_type","restriction":"String | ::Nil"}],"visibility":"Public","body":"_ = allocate\n_.initialize(name, type, description, required, items_type)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"},"external_var":false}],"instance_methods":[{"html_id":"description:String-instance-method","name":"description","abstract":false,"location":{"filename":"src/openrouter/types/tool.cr","line_number":6,"url":null},"def":{"name":"description","return_type":"String","visibility":"Public","body":"@description"},"external_var":false},{"html_id":"description=(description:String)-instance-method","name":"description=","abstract":false,"args":[{"name":"description","external_name":"description","restriction":"String"}],"args_string":"(description : String)","args_html":"(description : String)","location":{"filename":"src/openrouter/types/tool.cr","line_number":6,"url":null},"def":{"name":"description=","args":[{"name":"description","external_name":"description","restriction":"String"}],"visibility":"Public","body":"@description = description"},"external_var":false},{"html_id":"items_type:String|Nil-instance-method","name":"items_type","abstract":false,"location":{"filename":"src/openrouter/types/tool.cr","line_number":8,"url":null},"def":{"name":"items_type","return_type":"String | ::Nil","visibility":"Public","body":"@items_type"},"external_var":false},{"html_id":"items_type=(items_type:String|Nil)-instance-method","name":"items_type=","abstract":false,"args":[{"name":"items_type","external_name":"items_type","restriction":"String | ::Nil"}],"args_string":"(items_type : String | Nil)","args_html":"(items_type : String | Nil)","location":{"filename":"src/openrouter/types/tool.cr","line_number":8,"url":null},"def":{"name":"items_type=","args":[{"name":"items_type","external_name":"items_type","restriction":"String | ::Nil"}],"visibility":"Public","body":"@items_type = items_type"},"external_var":false},{"html_id":"name:String-instance-method","name":"name","abstract":false,"location":{"filename":"src/openrouter/types/tool.cr","line_number":4,"url":null},"def":{"name":"name","return_type":"String","visibility":"Public","body":"@name"},"external_var":false},{"html_id":"name=(name:String)-instance-method","name":"name=","abstract":false,"args":[{"name":"name","external_name":"name","restriction":"String"}],"args_string":"(name : String)","args_html":"(name : String)","location":{"filename":"src/openrouter/types/tool.cr","line_number":4,"url":null},"def":{"name":"name=","args":[{"name":"name","external_name":"name","restriction":"String"}],"visibility":"Public","body":"@name = name"},"external_var":false},{"html_id":"required:Bool-instance-method","name":"required","abstract":false,"location":{"filename":"src/openrouter/types/tool.cr","line_number":7,"url":null},"def":{"name":"required","return_type":"Bool","visibility":"Public","body":"@required"},"external_var":false},{"html_id":"required=(required:Bool)-instance-method","name":"required=","abstract":false,"args":[{"name":"required","external_name":"required","restriction":"Bool"}],"args_string":"(required : Bool)","args_html":"(required : Bool)","location":{"filename":"src/openrouter/types/tool.cr","line_number":7,"url":null},"def":{"name":"required=","args":[{"name":"required","external_name":"required","restriction":"Bool"}],"visibility":"Public","body":"@required = required"},"external_var":false},{"html_id":"to_json(io:IO)-instance-method","name":"to_json","abstract":false,"args":[{"name":"io","external_name":"io","restriction":"IO"}],"args_string":"(io : IO)","args_html":"(io : IO)","location":{"filename":"src/openrouter/types/tool.cr","line_number":24,"url":null},"def":{"name":"to_json","args":[{"name":"io","external_name":"io","restriction":"IO"}],"visibility":"Public","body":"JSON.build(io) do |json|\n  to_json(json)\nend"},"external_var":false},{"html_id":"to_json(json:JSON::Builder)-instance-method","name":"to_json","abstract":false,"args":[{"name":"json","external_name":"json","restriction":"JSON::Builder"}],"args_string":"(json : JSON::Builder)","args_html":"(json : JSON::Builder)","location":{"filename":"src/openrouter/types/tool.cr","line_number":30,"url":null},"def":{"name":"to_json","args":[{"name":"json","external_name":"json","restriction":"JSON::Builder"}],"visibility":"Public","body":"json.object do\n  json.field(\"type\", @type)\n  json.field(\"description\", @description)\n\n\n  if (@type == \"array\") && @items_type\n    json.field(\"items\") do\n      json.object do\n        json.field(\"type\", @items_type)\n      end\n    end\n  end\nend"},"external_var":false},{"html_id":"type:String-instance-method","name":"type","abstract":false,"location":{"filename":"src/openrouter/types/tool.cr","line_number":5,"url":null},"def":{"name":"type","return_type":"String","visibility":"Public","body":"@type"},"external_var":false},{"html_id":"type=(type:String)-instance-method","name":"type=","abstract":false,"args":[{"name":"type","external_name":"type","restriction":"String"}],"args_string":"(type : String)","args_html":"(type : String)","location":{"filename":"src/openrouter/types/tool.cr","line_number":5,"url":null},"def":{"name":"type=","args":[{"name":"type","external_name":"type","restriction":"String"}],"visibility":"Public","body":"@type = type"},"external_var":false}]},{"html_id":"openrouter/OpenRouter/InvalidJSONResponse","path":"OpenRouter/InvalidJSONResponse.html","kind":"class","full_name":"OpenRouter::InvalidJSONResponse","name":"InvalidJSONResponse","abstract":false,"superclass":{"html_id":"openrouter/Exception","kind":"class","full_name":"Exception","name":"Exception"},"ancestors":[{"html_id":"openrouter/Exception","kind":"class","full_name":"Exception","name":"Exception"},{"html_id":"openrouter/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"openrouter/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/openrouter/types/response.cr","line_number":5,"url":null}],"repository_name":"openrouter","program":false,"enum":false,"alias":false,"const":false,"namespace":{"html_id":"openrouter/OpenRouter","kind":"module","full_name":"OpenRouter","name":"OpenRouter"},"constructors":[{"html_id":"new(text:String,cause:Exception|Nil=nil)-class-method","name":"new","abstract":false,"args":[{"name":"text","external_name":"text","restriction":"String"},{"name":"cause","default_value":"nil","external_name":"cause","restriction":"Exception | ::Nil"}],"args_string":"(text : String, cause : Exception | Nil = nil)","args_html":"(text : String, cause : Exception | Nil = <span class=\"n\">nil</span>)","location":{"filename":"src/openrouter/types/response.cr","line_number":9,"url":null},"def":{"name":"new","args":[{"name":"text","external_name":"text","restriction":"String"},{"name":"cause","default_value":"nil","external_name":"cause","restriction":"Exception | ::Nil"}],"visibility":"Public","body":"_ = allocate\n_.initialize(text, cause)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"},"external_var":false}],"instance_methods":[{"html_id":"cause:Exception|Nil-instance-method","name":"cause","doc":"Returns the previous exception at the time this exception was raised.\nThis is useful for wrapping exceptions and retaining the original\nexception information.","summary":"<p>Returns the previous exception at the time this exception was raised.</p>","abstract":false,"location":{"filename":"src/openrouter/types/response.cr","line_number":7,"url":null},"def":{"name":"cause","return_type":"Exception | ::Nil","visibility":"Public","body":"@cause"},"external_var":false},{"html_id":"text:String-instance-method","name":"text","abstract":false,"location":{"filename":"src/openrouter/types/response.cr","line_number":6,"url":null},"def":{"name":"text","return_type":"String","visibility":"Public","body":"@text"},"external_var":false}]},{"html_id":"openrouter/OpenRouter/Message","path":"OpenRouter/Message.html","kind":"struct","full_name":"OpenRouter::Message","name":"Message","abstract":false,"superclass":{"html_id":"openrouter/Struct","kind":"struct","full_name":"Struct","name":"Struct"},"ancestors":[{"html_id":"openrouter/Struct","kind":"struct","full_name":"Struct","name":"Struct"},{"html_id":"openrouter/Value","kind":"struct","full_name":"Value","name":"Value"},{"html_id":"openrouter/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/openrouter/types/message.cr","line_number":19,"url":null}],"repository_name":"openrouter","program":false,"enum":false,"alias":false,"const":false,"namespace":{"html_id":"openrouter/OpenRouter","kind":"module","full_name":"OpenRouter","name":"OpenRouter"},"class_methods":[{"html_id":"from_json(json:JSON::Any)-class-method","name":"from_json","abstract":false,"args":[{"name":"json","external_name":"json","restriction":"JSON::Any"}],"args_string":"(json : JSON::Any)","args_html":"(json : JSON::Any)","location":{"filename":"src/openrouter/types/message.cr","line_number":120,"url":null},"def":{"name":"from_json","args":[{"name":"json","external_name":"json","restriction":"JSON::Any"}],"visibility":"Public","body":"if json.as_h.has_key?(\"role\")\n  role = Role.parse(json[\"role\"].as_s)\nelse\n  raise(\"Missing role field in message\")\nend\n\nif json.as_h.has_key?(\"content\")\n  if json[\"content\"].as_s?\n    content = json[\"content\"].as_s\n  else\n    if json[\"content\"].as_a?\n      content = json[\"content\"].as_a.map do |content_part_json|\n        type = content_part_json[\"type\"].as_s\n\n        if type == \"image_url\"\n          type = \"image_url\"\n          value = content_part_json[\"image_url\"].as_s\n        else\n          value = \"unknown\"\n        end\n        {type: type, value: value}\n      end\n    else\n      content = nil\n    end\n  end\nelse\n  raise(\"Missing content field in message\")\nend\n\nif json.as_h.has_key?(\"name\")\n  name = json[\"name\"].as_s\nelse\n  name = nil\nend\n\n\n\n\n\n\n\n\n\n\n\n\n\nif json.as_h.has_key?(\"tool_calls\")\n  tool_calls = json[\"tool_calls\"].as_a.map do |tool_call_json|\n    ToolCall.new(tool_call_json)\n  end\nend\n\n\nif json.as_h.has_key?(\"tool_call_id\")\n  tool_call_id = json[\"tool_call_id\"].as_s\nelse\n  tool_call_id = nil\nend\n\n\nreasoning = json.as_h.has_key?(\"reasoning\") ? json[\"reasoning\"].as_s? : nil\n\n\nreasoning_details = json.as_h.has_key?(\"reasoning_details\") ? json[\"reasoning_details\"] : nil\n\nMessage.new(role, content, name, tool_call_id, tool_calls: tool_calls, reasoning: reasoning, reasoning_details: reasoning_details)\n"},"external_var":false}],"constructors":[{"html_id":"new(role:Role,content:Content|Nil,name:String|Nil=nil,tool_call_id:String|Nil=nil,tool_calls:Array(ToolCall)|Nil=nil,reasoning:String|Nil=nil,reasoning_details:JSON::Any|Nil=nil)-class-method","name":"new","doc":"Initialize for user/assistant/system messages","summary":"<p>Initialize for user/assistant/system messages</p>","abstract":false,"args":[{"name":"role","external_name":"role","restriction":"Role"},{"name":"content","external_name":"content","restriction":"Content | ::Nil"},{"name":"name","default_value":"nil","external_name":"name","restriction":"String | ::Nil"},{"name":"tool_call_id","default_value":"nil","external_name":"tool_call_id","restriction":"String | ::Nil"},{"name":"tool_calls","default_value":"nil","external_name":"tool_calls","restriction":"Array(ToolCall) | ::Nil"},{"name":"reasoning","default_value":"nil","external_name":"reasoning","restriction":"String | ::Nil"},{"name":"reasoning_details","default_value":"nil","external_name":"reasoning_details","restriction":"JSON::Any | ::Nil"}],"args_string":"(role : Role, content : Content | Nil, name : String | Nil = nil, tool_call_id : String | Nil = nil, tool_calls : Array(ToolCall) | Nil = nil, reasoning : String | Nil = nil, reasoning_details : JSON::Any | Nil = nil)","args_html":"(role : <a href=\"../OpenRouter/Role.html\">Role</a>, content : <a href=\"../OpenRouter/Content.html\">Content</a> | Nil, name : String | Nil = <span class=\"n\">nil</span>, tool_call_id : String | Nil = <span class=\"n\">nil</span>, tool_calls : Array(<a href=\"../OpenRouter/ToolCall.html\">ToolCall</a>) | Nil = <span class=\"n\">nil</span>, reasoning : String | Nil = <span class=\"n\">nil</span>, reasoning_details : JSON::Any | Nil = <span class=\"n\">nil</span>)","location":{"filename":"src/openrouter/types/message.cr","line_number":37,"url":null},"def":{"name":"new","args":[{"name":"role","external_name":"role","restriction":"Role"},{"name":"content","external_name":"content","restriction":"Content | ::Nil"},{"name":"name","default_value":"nil","external_name":"name","restriction":"String | ::Nil"},{"name":"tool_call_id","default_value":"nil","external_name":"tool_call_id","restriction":"String | ::Nil"},{"name":"tool_calls","default_value":"nil","external_name":"tool_calls","restriction":"Array(ToolCall) | ::Nil"},{"name":"reasoning","default_value":"nil","external_name":"reasoning","restriction":"String | ::Nil"},{"name":"reasoning_details","default_value":"nil","external_name":"reasoning_details","restriction":"JSON::Any | ::Nil"}],"visibility":"Public","body":"_ = allocate\n_.initialize(role, content, name, tool_call_id, tool_calls, reasoning, reasoning_details)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"},"external_var":false},{"html_id":"new(tool_call:ToolCall)-class-method","name":"new","doc":"Create a tool result message.\n\nRole will be Role::Tool\n@name will be set to tool_call.name\n@tool_call_id will be set to tool_call.id\n@content will be set to serializd string of tool_call.arguments.to_json()","summary":"<p>Create a tool result message.</p>","abstract":false,"args":[{"name":"tool_call","external_name":"tool_call","restriction":"ToolCall"}],"args_string":"(tool_call : ToolCall)","args_html":"(tool_call : <a href=\"../OpenRouter/ToolCall.html\">ToolCall</a>)","location":{"filename":"src/openrouter/types/message.cr","line_number":83,"url":null},"def":{"name":"new","args":[{"name":"tool_call","external_name":"tool_call","restriction":"ToolCall"}],"visibility":"Public","body":"_ = allocate\n_.initialize(tool_call)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"},"external_var":false}],"instance_methods":[{"html_id":"add_tool_call(tool_call:ToolCall)-instance-method","name":"add_tool_call","abstract":false,"args":[{"name":"tool_call","external_name":"tool_call","restriction":"ToolCall"}],"args_string":"(tool_call : ToolCall)","args_html":"(tool_call : <a href=\"../OpenRouter/ToolCall.html\">ToolCall</a>)","location":{"filename":"src/openrouter/types/message.cr","line_number":100,"url":null},"def":{"name":"add_tool_call","args":[{"name":"tool_call","external_name":"tool_call","restriction":"ToolCall"}],"visibility":"Public","body":"@tool_calls || (@tool_calls = [] of ToolCall)\n@tool_calls << tool_call\n"},"external_var":false},{"html_id":"add_tool_call(name:String,arguments:Array(ToolCallArgument)=[]ofToolCallArgument,tool_call_type:String=\"function\",tool_call_id:String|Nil=nil)-instance-method","name":"add_tool_call","abstract":false,"args":[{"name":"name","external_name":"name","restriction":"String"},{"name":"arguments","default_value":"[] of ToolCallArgument","external_name":"arguments","restriction":"Array(ToolCallArgument)"},{"name":"tool_call_type","default_value":"\"function\"","external_name":"tool_call_type","restriction":"String"},{"name":"tool_call_id","default_value":"nil","external_name":"tool_call_id","restriction":"String | ::Nil"}],"args_string":"(name : String, arguments : Array(ToolCallArgument) = [] of ToolCallArgument, tool_call_type : String = \"function\", tool_call_id : String | Nil = nil)","args_html":"(name : String, arguments : Array(<a href=\"../OpenRouter/ToolCallArgument.html\">ToolCallArgument</a>) = <span class=\"o\">[]</span> <span class=\"k\">of</span> <span class=\"t\">ToolCallArgument</span>, tool_call_type : String = <span class=\"s\">&quot;function&quot;</span>, tool_call_id : String | Nil = <span class=\"n\">nil</span>)","location":{"filename":"src/openrouter/types/message.cr","line_number":105,"url":null},"def":{"name":"add_tool_call","args":[{"name":"name","external_name":"name","restriction":"String"},{"name":"arguments","default_value":"[] of ToolCallArgument","external_name":"arguments","restriction":"Array(ToolCallArgument)"},{"name":"tool_call_type","default_value":"\"function\"","external_name":"tool_call_type","restriction":"String"},{"name":"tool_call_id","default_value":"nil","external_name":"tool_call_id","restriction":"String | ::Nil"}],"visibility":"Public","body":"tool_call = ToolCall.new(tool_call_id, name, arguments, tool_call_type)\nadd_tool_call(tool_call)\n"},"external_var":false},{"html_id":"content:Content|Nil-instance-method","name":"content","abstract":false,"location":{"filename":"src/openrouter/types/message.cr","line_number":22,"url":null},"def":{"name":"content","return_type":"Content | ::Nil","visibility":"Public","body":"@content"},"external_var":false},{"html_id":"content=(content:Content|Nil)-instance-method","name":"content=","abstract":false,"args":[{"name":"content","external_name":"content","restriction":"Content | ::Nil"}],"args_string":"(content : Content | Nil)","args_html":"(content : <a href=\"../OpenRouter/Content.html\">Content</a> | Nil)","location":{"filename":"src/openrouter/types/message.cr","line_number":22,"url":null},"def":{"name":"content=","args":[{"name":"content","external_name":"content","restriction":"Content | ::Nil"}],"visibility":"Public","body":"@content = content"},"external_var":false},{"html_id":"content_string:String-instance-method","name":"content_string","doc":"Get the content, or in case of a multi-modal message, the content of the first part.","summary":"<p>Get the content, or in case of a multi-modal message, the content of the first part.</p>","abstract":false,"location":{"filename":"src/openrouter/types/message.cr","line_number":52,"url":null},"def":{"name":"content_string","return_type":"String","visibility":"Public","body":"if @content.is_a?(Array(ContentPart))\n  content_array = @content.as(Array(ContentPart))\n  content_array[0][:value]\nelse\n  if @content.is_a?(String)\n    @content.as(String)\n  else\n    \"\"\n  end\nend"},"external_var":false},{"html_id":"length:Int32-instance-method","name":"length","abstract":false,"location":{"filename":"src/openrouter/types/message.cr","line_number":63,"url":null},"def":{"name":"length","return_type":"Int32","visibility":"Public","body":"if @content.is_a?(Array(ContentPart))\n  len = 0\n  (@content.as(Array(ContentPart))).each do |part|\n    len = len + (part[:type].size + part[:value].size)\n  end\n  len\nelse\n  if @content.is_a?(String)\n    (@content.as(String)).size\n  else\n    0\n  end\nend"},"external_var":false},{"html_id":"multi_modal?:Bool-instance-method","name":"multi_modal?","doc":"Check if content is an Array","summary":"<p>Check if content is an Array</p>","abstract":false,"location":{"filename":"src/openrouter/types/message.cr","line_number":116,"url":null},"def":{"name":"multi_modal?","return_type":"Bool","visibility":"Public","body":"@content.is_a?(Array(ContentPart))"},"external_var":false},{"html_id":"name:String|Nil-instance-method","name":"name","abstract":false,"location":{"filename":"src/openrouter/types/message.cr","line_number":26,"url":null},"def":{"name":"name","return_type":"String | ::Nil","visibility":"Public","body":"@name"},"external_var":false},{"html_id":"name=(name:String|Nil)-instance-method","name":"name=","abstract":false,"args":[{"name":"name","external_name":"name","restriction":"String | ::Nil"}],"args_string":"(name : String | Nil)","args_html":"(name : String | Nil)","location":{"filename":"src/openrouter/types/message.cr","line_number":26,"url":null},"def":{"name":"name=","args":[{"name":"name","external_name":"name","restriction":"String | ::Nil"}],"visibility":"Public","body":"@name = name"},"external_var":false},{"html_id":"reasoning:String|Nil-instance-method","name":"reasoning","doc":"Reasoning tokens - visible reasoning trace from the model","summary":"<p>Reasoning tokens - visible reasoning trace from the model</p>","abstract":false,"location":{"filename":"src/openrouter/types/message.cr","line_number":31,"url":null},"def":{"name":"reasoning","return_type":"String | ::Nil","visibility":"Public","body":"@reasoning"},"external_var":false},{"html_id":"reasoning=(reasoning:String|Nil)-instance-method","name":"reasoning=","doc":"Reasoning tokens - visible reasoning trace from the model","summary":"<p>Reasoning tokens - visible reasoning trace from the model</p>","abstract":false,"args":[{"name":"reasoning","external_name":"reasoning","restriction":"String | ::Nil"}],"args_string":"(reasoning : String | Nil)","args_html":"(reasoning : String | Nil)","location":{"filename":"src/openrouter/types/message.cr","line_number":31,"url":null},"def":{"name":"reasoning=","args":[{"name":"reasoning","external_name":"reasoning","restriction":"String | ::Nil"}],"visibility":"Public","body":"@reasoning = reasoning"},"external_var":false},{"html_id":"reasoning_details:JSON::Any|Nil-instance-method","name":"reasoning_details","doc":"Reasoning details for preserving reasoning blocks (used in tool calling)","summary":"<p>Reasoning details for preserving reasoning blocks (used in tool calling)</p>","abstract":false,"location":{"filename":"src/openrouter/types/message.cr","line_number":34,"url":null},"def":{"name":"reasoning_details","return_type":"JSON::Any | ::Nil","visibility":"Public","body":"@reasoning_details"},"external_var":false},{"html_id":"reasoning_details=(reasoning_details:JSON::Any|Nil)-instance-method","name":"reasoning_details=","doc":"Reasoning details for preserving reasoning blocks (used in tool calling)","summary":"<p>Reasoning details for preserving reasoning blocks (used in tool calling)</p>","abstract":false,"args":[{"name":"reasoning_details","external_name":"reasoning_details","restriction":"JSON::Any | ::Nil"}],"args_string":"(reasoning_details : JSON::Any | Nil)","args_html":"(reasoning_details : JSON::Any | Nil)","location":{"filename":"src/openrouter/types/message.cr","line_number":34,"url":null},"def":{"name":"reasoning_details=","args":[{"name":"reasoning_details","external_name":"reasoning_details","restriction":"JSON::Any | ::Nil"}],"visibility":"Public","body":"@reasoning_details = reasoning_details"},"external_var":false},{"html_id":"role:Role|Nil-instance-method","name":"role","doc":"Common fields","summary":"<p>Common fields</p>","abstract":false,"location":{"filename":"src/openrouter/types/message.cr","line_number":21,"url":null},"def":{"name":"role","return_type":"Role | ::Nil","visibility":"Public","body":"@role"},"external_var":false},{"html_id":"role=(role:Role|Nil)-instance-method","name":"role=","doc":"Common fields","summary":"<p>Common fields</p>","abstract":false,"args":[{"name":"role","external_name":"role","restriction":"Role | ::Nil"}],"args_string":"(role : Role | Nil)","args_html":"(role : <a href=\"../OpenRouter/Role.html\">Role</a> | Nil)","location":{"filename":"src/openrouter/types/message.cr","line_number":21,"url":null},"def":{"name":"role=","args":[{"name":"role","external_name":"role","restriction":"Role | ::Nil"}],"visibility":"Public","body":"@role = role"},"external_var":false},{"html_id":"to_json(io:IO)-instance-method","name":"to_json","abstract":false,"args":[{"name":"io","external_name":"io","restriction":"IO"}],"args_string":"(io : IO)","args_html":"(io : IO)","location":{"filename":"src/openrouter/types/message.cr","line_number":206,"url":null},"def":{"name":"to_json","args":[{"name":"io","external_name":"io","restriction":"IO"}],"visibility":"Public","body":"JSON.build(io) do |json|\n  to_json(json)\nend"},"external_var":false},{"html_id":"to_json(json:JSON::Builder)-instance-method","name":"to_json","abstract":false,"args":[{"name":"json","external_name":"json","restriction":"JSON::Builder"}],"args_string":"(json : JSON::Builder)","args_html":"(json : JSON::Builder)","location":{"filename":"src/openrouter/types/message.cr","line_number":212,"url":null},"def":{"name":"to_json","args":[{"name":"json","external_name":"json","restriction":"JSON::Builder"}],"visibility":"Public","body":"json.object do\n  json.field(\"role\", @role.to_s.downcase)\n\n  if content.is_a?(String)\n    json.field(\"content\", @content)\n  else\n    json.field(\"content\") do\n      json.array do\n        (@content.as(Array(ContentPart))).each do |content_part|\n          json.object do\n            type = content_part[:type]\n            value = content_part[:value]\n\n            if type == \"image_url\"\n              json.field(\"type\", type)\n              json.field(\"image_url\") do\n                json.object do\n                  json.field(\"url\", value)\n                end\n              end\n            else\n              json.field(\"type\", type)\n              json.field(type, value)\n            end\n          end\n        end\n      end\n    end\n  end\n\n\n  if @role == Role::Tool\n    json.field(\"name\", @name)\n    json.field(\"tool_call_id\", @tool_call_id)\n  else\n    if @tool_call_id\n      json.field(\"tool_call_id\", @tool_call_id)\n    end\n\n    if @name\n      json.field(\"name\", @name)\n    end\n\n\n    if @tool_calls\n      json.field(\"tool_calls\") do\n        json.array do\n          @tool_calls.not_nil!.each do |tool_call|\n            tool_call.to_json(json)\n          end\n        end\n      end\n    end\n\n\n    if @reasoning\n      json.field(\"reasoning\", @reasoning)\n    end\n\n\n    if @reasoning_details\n      json.field(\"reasoning_details\", @reasoning_details)\n    end\n  end\nend"},"external_var":false},{"html_id":"tool_call_id:String|Nil-instance-method","name":"tool_call_id","doc":"Optional fields for specific roles","summary":"<p>Optional fields for specific roles</p>","abstract":false,"location":{"filename":"src/openrouter/types/message.cr","line_number":25,"url":null},"def":{"name":"tool_call_id","return_type":"String | ::Nil","visibility":"Public","body":"@tool_call_id"},"external_var":false},{"html_id":"tool_call_id=(tool_call_id:String|Nil)-instance-method","name":"tool_call_id=","doc":"Optional fields for specific roles","summary":"<p>Optional fields for specific roles</p>","abstract":false,"args":[{"name":"tool_call_id","external_name":"tool_call_id","restriction":"String | ::Nil"}],"args_string":"(tool_call_id : String | Nil)","args_html":"(tool_call_id : String | Nil)","location":{"filename":"src/openrouter/types/message.cr","line_number":25,"url":null},"def":{"name":"tool_call_id=","args":[{"name":"tool_call_id","external_name":"tool_call_id","restriction":"String | ::Nil"}],"visibility":"Public","body":"@tool_call_id = tool_call_id"},"external_var":false},{"html_id":"tool_calls:Array(ToolCall)|Nil-instance-method","name":"tool_calls","abstract":false,"location":{"filename":"src/openrouter/types/message.cr","line_number":28,"url":null},"def":{"name":"tool_calls","return_type":"Array(ToolCall) | ::Nil","visibility":"Public","body":"@tool_calls"},"external_var":false},{"html_id":"tool_calls=(tool_calls:Array(ToolCall)|Nil)-instance-method","name":"tool_calls=","abstract":false,"args":[{"name":"tool_calls","external_name":"tool_calls","restriction":"Array(ToolCall) | ::Nil"}],"args_string":"(tool_calls : Array(ToolCall) | Nil)","args_html":"(tool_calls : Array(<a href=\"../OpenRouter/ToolCall.html\">ToolCall</a>) | Nil)","location":{"filename":"src/openrouter/types/message.cr","line_number":28,"url":null},"def":{"name":"tool_calls=","args":[{"name":"tool_calls","external_name":"tool_calls","restriction":"Array(ToolCall) | ::Nil"}],"visibility":"Public","body":"@tool_calls = tool_calls"},"external_var":false}]},{"html_id":"openrouter/OpenRouter/Model","path":"OpenRouter/Model.html","kind":"struct","full_name":"OpenRouter::Model","name":"Model","abstract":false,"superclass":{"html_id":"openrouter/Struct","kind":"struct","full_name":"Struct","name":"Struct"},"ancestors":[{"html_id":"openrouter/Struct","kind":"struct","full_name":"Struct","name":"Struct"},{"html_id":"openrouter/Value","kind":"struct","full_name":"Value","name":"Value"},{"html_id":"openrouter/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/openrouter/types/model.cr","line_number":4,"url":null}],"repository_name":"openrouter","program":false,"enum":false,"alias":false,"const":false,"namespace":{"html_id":"openrouter/OpenRouter","kind":"module","full_name":"OpenRouter","name":"OpenRouter"},"doc":"Represents a language model retrieved from the OpenRouter API via the `/models` endpoint","summary":"<p>Represents a language model retrieved from the OpenRouter API via the <code>/models</code> endpoint</p>","constructors":[{"html_id":"new(json:JSON::Any)-class-method","name":"new","doc":"Creates a new Model object from a JSON response from the OpenRouter API.\n\nThe JSON response from the OpenRouter API should be formatted as follows:\n```json\n{\n    \"id\": \"string\",\n    \"name\": \"string\",\n    \"created\": 0,\n    \"description\": \"string\",\n    \"pricing\": {\n      \"prompt\": \"string\",\n      \"completion\": \"string\",\n      \"request\": \"string\",\n      \"image\": \"string\"\n    },\n    \"context_length\": 0,\n    \"architecture\": {\n      \"tokenizer\": \"Router\",\n      \"instruct_type\": \"none\",\n      \"modality\": \"text->text\"\n    },\n    \"top_provider\": {\n      \"context_length\": 0,\n      \"max_completion_tokens\": 0,\n      \"is_moderated\": true\n    },\n    \"per_request_limits\": {\n      \"prompt_tokens\": null,\n      \"completion_tokens\": null\n    }\n}\n```","summary":"<p>Creates a new Model object from a JSON response from the OpenRouter API.</p>","abstract":false,"args":[{"name":"json","external_name":"json","restriction":"JSON::Any"}],"args_string":"(json : JSON::Any)","args_html":"(json : JSON::Any)","location":{"filename":"src/openrouter/types/model.cr","line_number":74,"url":null},"def":{"name":"new","args":[{"name":"json","external_name":"json","restriction":"JSON::Any"}],"visibility":"Public","body":"_ = allocate\n_.initialize(json)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"},"external_var":false}],"instance_methods":[{"html_id":"architecture_instruct_type:String|Nil-instance-method","name":"architecture_instruct_type","abstract":false,"location":{"filename":"src/openrouter/types/model.cr","line_number":24,"url":null},"def":{"name":"architecture_instruct_type","return_type":"String | ::Nil","visibility":"Public","body":"@architecture_instruct_type"},"external_var":false},{"html_id":"architecture_modality:String-instance-method","name":"architecture_modality","abstract":false,"location":{"filename":"src/openrouter/types/model.cr","line_number":26,"url":null},"def":{"name":"architecture_modality","return_type":"String","visibility":"Public","body":"@architecture_modality"},"external_var":false},{"html_id":"architecture_tokenizer:String-instance-method","name":"architecture_tokenizer","abstract":false,"location":{"filename":"src/openrouter/types/model.cr","line_number":21,"url":null},"def":{"name":"architecture_tokenizer","return_type":"String","visibility":"Public","body":"@architecture_tokenizer"},"external_var":false},{"html_id":"context_length:Int32-instance-method","name":"context_length","abstract":false,"location":{"filename":"src/openrouter/types/model.cr","line_number":19,"url":null},"def":{"name":"context_length","return_type":"Int32","visibility":"Public","body":"@context_length"},"external_var":false},{"html_id":"created:Int32-instance-method","name":"created","abstract":false,"location":{"filename":"src/openrouter/types/model.cr","line_number":7,"url":null},"def":{"name":"created","return_type":"Int32","visibility":"Public","body":"@created"},"external_var":false},{"html_id":"description:String-instance-method","name":"description","abstract":false,"location":{"filename":"src/openrouter/types/model.cr","line_number":8,"url":null},"def":{"name":"description","return_type":"String","visibility":"Public","body":"@description"},"external_var":false},{"html_id":"id:String-instance-method","name":"id","abstract":false,"location":{"filename":"src/openrouter/types/model.cr","line_number":5,"url":null},"def":{"name":"id","return_type":"String","visibility":"Public","body":"@id"},"external_var":false},{"html_id":"name:String-instance-method","name":"name","abstract":false,"location":{"filename":"src/openrouter/types/model.cr","line_number":6,"url":null},"def":{"name":"name","return_type":"String","visibility":"Public","body":"@name"},"external_var":false},{"html_id":"per_request_limits_completion_tokens:Int32?-instance-method","name":"per_request_limits_completion_tokens","abstract":false,"location":{"filename":"src/openrouter/types/model.cr","line_number":40,"url":null},"def":{"name":"per_request_limits_completion_tokens","visibility":"Public","body":"@per_request_limits_completion_tokens"},"external_var":false},{"html_id":"per_request_limits_prompt_tokens:Int32?-instance-method","name":"per_request_limits_prompt_tokens","abstract":false,"location":{"filename":"src/openrouter/types/model.cr","line_number":37,"url":null},"def":{"name":"per_request_limits_prompt_tokens","visibility":"Public","body":"@per_request_limits_prompt_tokens"},"external_var":false},{"html_id":"pricing_completion:String-instance-method","name":"pricing_completion","abstract":false,"location":{"filename":"src/openrouter/types/model.cr","line_number":11,"url":null},"def":{"name":"pricing_completion","return_type":"String","visibility":"Public","body":"@pricing_completion"},"external_var":false},{"html_id":"pricing_image:String-instance-method","name":"pricing_image","abstract":false,"location":{"filename":"src/openrouter/types/model.cr","line_number":13,"url":null},"def":{"name":"pricing_image","return_type":"String","visibility":"Public","body":"@pricing_image"},"external_var":false},{"html_id":"pricing_input_cache_read:String-instance-method","name":"pricing_input_cache_read","abstract":false,"location":{"filename":"src/openrouter/types/model.cr","line_number":16,"url":null},"def":{"name":"pricing_input_cache_read","return_type":"String","visibility":"Public","body":"@pricing_input_cache_read"},"external_var":false},{"html_id":"pricing_input_cache_write:String-instance-method","name":"pricing_input_cache_write","abstract":false,"location":{"filename":"src/openrouter/types/model.cr","line_number":17,"url":null},"def":{"name":"pricing_input_cache_write","return_type":"String","visibility":"Public","body":"@pricing_input_cache_write"},"external_var":false},{"html_id":"pricing_internal_reasoning:String-instance-method","name":"pricing_internal_reasoning","abstract":false,"location":{"filename":"src/openrouter/types/model.cr","line_number":15,"url":null},"def":{"name":"pricing_internal_reasoning","return_type":"String","visibility":"Public","body":"@pricing_internal_reasoning"},"external_var":false},{"html_id":"pricing_prompt:String-instance-method","name":"pricing_prompt","abstract":false,"location":{"filename":"src/openrouter/types/model.cr","line_number":10,"url":null},"def":{"name":"pricing_prompt","return_type":"String","visibility":"Public","body":"@pricing_prompt"},"external_var":false},{"html_id":"pricing_request:String-instance-method","name":"pricing_request","abstract":false,"location":{"filename":"src/openrouter/types/model.cr","line_number":12,"url":null},"def":{"name":"pricing_request","return_type":"String","visibility":"Public","body":"@pricing_request"},"external_var":false},{"html_id":"pricing_web_search:String-instance-method","name":"pricing_web_search","abstract":false,"location":{"filename":"src/openrouter/types/model.cr","line_number":14,"url":null},"def":{"name":"pricing_web_search","return_type":"String","visibility":"Public","body":"@pricing_web_search"},"external_var":false},{"html_id":"to_s-instance-method","name":"to_s","doc":"Returns a nicely readable and concise string representation of this object,\ntypically intended for users.\n\nThis method should usually **not** be overridden. It delegates to\n`#to_s(IO)` which can be overridden for custom implementations.\n\nAlso see `#inspect`.","summary":"<p>Returns a nicely readable and concise string representation of this object, typically intended for users.</p>","abstract":false,"location":{"filename":"src/openrouter/types/model.cr","line_number":122,"url":null},"def":{"name":"to_s","visibility":"Public","body":"\"Model(id=#{id}, name=#{name}, description=#{description})\""},"external_var":false},{"html_id":"top_provider_context_length:Int32|Nil-instance-method","name":"top_provider_context_length","abstract":false,"location":{"filename":"src/openrouter/types/model.cr","line_number":29,"url":null},"def":{"name":"top_provider_context_length","return_type":"Int32 | ::Nil","visibility":"Public","body":"@top_provider_context_length"},"external_var":false},{"html_id":"top_provider_is_moderated:Bool-instance-method","name":"top_provider_is_moderated","abstract":false,"location":{"filename":"src/openrouter/types/model.cr","line_number":34,"url":null},"def":{"name":"top_provider_is_moderated","return_type":"Bool","visibility":"Public","body":"@top_provider_is_moderated"},"external_var":false},{"html_id":"top_provider_max_completion_tokens:Int32|Nil-instance-method","name":"top_provider_max_completion_tokens","abstract":false,"location":{"filename":"src/openrouter/types/model.cr","line_number":32,"url":null},"def":{"name":"top_provider_max_completion_tokens","return_type":"Int32 | ::Nil","visibility":"Public","body":"@top_provider_max_completion_tokens"},"external_var":false}]},{"html_id":"openrouter/OpenRouter/NonChatChoice","path":"OpenRouter/NonChatChoice.html","kind":"struct","full_name":"OpenRouter::NonChatChoice","name":"NonChatChoice","abstract":false,"superclass":{"html_id":"openrouter/OpenRouter/Choice","kind":"struct","full_name":"OpenRouter::Choice","name":"Choice"},"ancestors":[{"html_id":"openrouter/OpenRouter/Choice","kind":"struct","full_name":"OpenRouter::Choice","name":"Choice"},{"html_id":"openrouter/Struct","kind":"struct","full_name":"Struct","name":"Struct"},{"html_id":"openrouter/Value","kind":"struct","full_name":"Value","name":"Value"},{"html_id":"openrouter/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/openrouter/types/response.cr","line_number":54,"url":null}],"repository_name":"openrouter","program":false,"enum":false,"alias":false,"const":false,"namespace":{"html_id":"openrouter/OpenRouter","kind":"module","full_name":"OpenRouter","name":"OpenRouter"},"constructors":[{"html_id":"new(json:JSON::Any)-class-method","name":"new","abstract":false,"args":[{"name":"json","external_name":"json","restriction":"JSON::Any"}],"args_string":"(json : JSON::Any)","args_html":"(json : JSON::Any)","location":{"filename":"src/openrouter/types/response.cr","line_number":57,"url":null},"def":{"name":"new","args":[{"name":"json","external_name":"json","restriction":"JSON::Any"}],"visibility":"Public","body":"_ = allocate\n_.initialize(json)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"},"external_var":false}],"instance_methods":[{"html_id":"text:String-instance-method","name":"text","abstract":false,"location":{"filename":"src/openrouter/types/response.cr","line_number":55,"url":null},"def":{"name":"text","return_type":"String","visibility":"Public","body":"@text"},"external_var":false},{"html_id":"to_json(io:IO)-instance-method","name":"to_json","abstract":false,"args":[{"name":"io","external_name":"io","restriction":"IO"}],"args_string":"(io : IO)","args_html":"(io : IO)","location":{"filename":"src/openrouter/types/response.cr","line_number":62,"url":null},"def":{"name":"to_json","args":[{"name":"io","external_name":"io","restriction":"IO"}],"visibility":"Public","body":"JSON.build(io) do |json|\n  to_json(json)\nend"},"external_var":false},{"html_id":"to_json(json:JSON::Builder)-instance-method","name":"to_json","abstract":false,"args":[{"name":"json","external_name":"json","restriction":"JSON::Builder"}],"args_string":"(json : JSON::Builder)","args_html":"(json : JSON::Builder)","location":{"filename":"src/openrouter/types/response.cr","line_number":68,"url":null},"def":{"name":"to_json","args":[{"name":"json","external_name":"json","restriction":"JSON::Builder"}],"visibility":"Public","body":"json.object do\n  json.field(\"text\", @text)\n  if @finish_reason\n    json.field(\"finish_reason\", @finish_reason)\n  end\nend"},"external_var":false}]},{"html_id":"openrouter/OpenRouter/NonStreamingChoice","path":"OpenRouter/NonStreamingChoice.html","kind":"struct","full_name":"OpenRouter::NonStreamingChoice","name":"NonStreamingChoice","abstract":false,"superclass":{"html_id":"openrouter/OpenRouter/Choice","kind":"struct","full_name":"OpenRouter::Choice","name":"Choice"},"ancestors":[{"html_id":"openrouter/OpenRouter/Choice","kind":"struct","full_name":"OpenRouter::Choice","name":"Choice"},{"html_id":"openrouter/Struct","kind":"struct","full_name":"Struct","name":"Struct"},{"html_id":"openrouter/Value","kind":"struct","full_name":"Value","name":"Value"},{"html_id":"openrouter/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/openrouter/types/response.cr","line_number":77,"url":null}],"repository_name":"openrouter","program":false,"enum":false,"alias":false,"const":false,"namespace":{"html_id":"openrouter/OpenRouter","kind":"module","full_name":"OpenRouter","name":"OpenRouter"},"doc":"Represents a non-streaming response","summary":"<p>Represents a non-streaming response</p>","constructors":[{"html_id":"new(json:JSON::Any)-class-method","name":"new","abstract":false,"args":[{"name":"json","external_name":"json","restriction":"JSON::Any"}],"args_string":"(json : JSON::Any)","args_html":"(json : JSON::Any)","location":{"filename":"src/openrouter/types/response.cr","line_number":80,"url":null},"def":{"name":"new","args":[{"name":"json","external_name":"json","restriction":"JSON::Any"}],"visibility":"Public","body":"_ = allocate\n_.initialize(json)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"},"external_var":false}],"instance_methods":[{"html_id":"message:Message-instance-method","name":"message","abstract":false,"location":{"filename":"src/openrouter/types/response.cr","line_number":78,"url":null},"def":{"name":"message","return_type":"Message","visibility":"Public","body":"@message"},"external_var":false},{"html_id":"message=(message:Message)-instance-method","name":"message=","abstract":false,"args":[{"name":"message","external_name":"message","restriction":"Message"}],"args_string":"(message : Message)","args_html":"(message : <a href=\"../OpenRouter/Message.html\">Message</a>)","location":{"filename":"src/openrouter/types/response.cr","line_number":78,"url":null},"def":{"name":"message=","args":[{"name":"message","external_name":"message","restriction":"Message"}],"visibility":"Public","body":"@message = message"},"external_var":false},{"html_id":"to_json(io:IO)-instance-method","name":"to_json","abstract":false,"args":[{"name":"io","external_name":"io","restriction":"IO"}],"args_string":"(io : IO)","args_html":"(io : IO)","location":{"filename":"src/openrouter/types/response.cr","line_number":85,"url":null},"def":{"name":"to_json","args":[{"name":"io","external_name":"io","restriction":"IO"}],"visibility":"Public","body":"JSON.build(io) do |json|\n  to_json(json)\nend"},"external_var":false},{"html_id":"to_json(json:JSON::Builder)-instance-method","name":"to_json","abstract":false,"args":[{"name":"json","external_name":"json","restriction":"JSON::Builder"}],"args_string":"(json : JSON::Builder)","args_html":"(json : JSON::Builder)","location":{"filename":"src/openrouter/types/response.cr","line_number":91,"url":null},"def":{"name":"to_json","args":[{"name":"json","external_name":"json","restriction":"JSON::Builder"}],"visibility":"Public","body":"json.object do\n  json.field(\"message\", @message)\n  if @finish_reason\n    json.field(\"finish_reason\", @finish_reason)\n  end\nend"},"external_var":false}]},{"html_id":"openrouter/OpenRouter/PaymentRequiredError","path":"OpenRouter/PaymentRequiredError.html","kind":"class","full_name":"OpenRouter::PaymentRequiredError","name":"PaymentRequiredError","abstract":false,"superclass":{"html_id":"openrouter/OpenRouter/Error","kind":"class","full_name":"OpenRouter::Error","name":"Error"},"ancestors":[{"html_id":"openrouter/OpenRouter/Error","kind":"class","full_name":"OpenRouter::Error","name":"Error"},{"html_id":"openrouter/Exception","kind":"class","full_name":"Exception","name":"Exception"},{"html_id":"openrouter/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"openrouter/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/openrouter/errors.cr","line_number":11,"url":null}],"repository_name":"openrouter","program":false,"enum":false,"alias":false,"const":false,"namespace":{"html_id":"openrouter/OpenRouter","kind":"module","full_name":"OpenRouter","name":"OpenRouter"}},{"html_id":"openrouter/OpenRouter/Reasoning","path":"OpenRouter/Reasoning.html","kind":"struct","full_name":"OpenRouter::Reasoning","name":"Reasoning","abstract":false,"superclass":{"html_id":"openrouter/Struct","kind":"struct","full_name":"Struct","name":"Struct"},"ancestors":[{"html_id":"openrouter/Struct","kind":"struct","full_name":"Struct","name":"Struct"},{"html_id":"openrouter/Value","kind":"struct","full_name":"Value","name":"Value"},{"html_id":"openrouter/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/openrouter/types/reasoning.cr","line_number":3,"url":null}],"repository_name":"openrouter","program":false,"enum":false,"alias":false,"const":false,"namespace":{"html_id":"openrouter/OpenRouter","kind":"module","full_name":"OpenRouter","name":"OpenRouter"},"doc":"Represents the reasoning configuration for models that support reasoning tokens","summary":"<p>Represents the reasoning configuration for models that support reasoning tokens</p>","class_methods":[{"html_id":"enabled(exclude:Bool=false)-class-method","name":"enabled","doc":"Create a reasoning config with default parameters","summary":"<p>Create a reasoning config with default parameters</p>","abstract":false,"args":[{"name":"exclude","default_value":"false","external_name":"exclude","restriction":"Bool"}],"args_string":"(exclude : Bool = false)","args_html":"(exclude : Bool = <span class=\"n\">false</span>)","location":{"filename":"src/openrouter/types/reasoning.cr","line_number":69,"url":null},"def":{"name":"enabled","args":[{"name":"exclude","default_value":"false","external_name":"exclude","restriction":"Bool"}],"visibility":"Public","body":"new(enabled: true, exclude: exclude)"},"external_var":false},{"html_id":"high(exclude:Bool=false)-class-method","name":"high","doc":"Create a reasoning config with high effort","summary":"<p>Create a reasoning config with high effort</p>","abstract":false,"args":[{"name":"exclude","default_value":"false","external_name":"exclude","restriction":"Bool"}],"args_string":"(exclude : Bool = false)","args_html":"(exclude : Bool = <span class=\"n\">false</span>)","location":{"filename":"src/openrouter/types/reasoning.cr","line_number":49,"url":null},"def":{"name":"high","args":[{"name":"exclude","default_value":"false","external_name":"exclude","restriction":"Bool"}],"visibility":"Public","body":"new(effort: \"high\", exclude: exclude)"},"external_var":false},{"html_id":"low(exclude:Bool=false)-class-method","name":"low","doc":"Create a reasoning config with low effort","summary":"<p>Create a reasoning config with low effort</p>","abstract":false,"args":[{"name":"exclude","default_value":"false","external_name":"exclude","restriction":"Bool"}],"args_string":"(exclude : Bool = false)","args_html":"(exclude : Bool = <span class=\"n\">false</span>)","location":{"filename":"src/openrouter/types/reasoning.cr","line_number":59,"url":null},"def":{"name":"low","args":[{"name":"exclude","default_value":"false","external_name":"exclude","restriction":"Bool"}],"visibility":"Public","body":"new(effort: \"low\", exclude: exclude)"},"external_var":false},{"html_id":"medium(exclude:Bool=false)-class-method","name":"medium","doc":"Create a reasoning config with medium effort","summary":"<p>Create a reasoning config with medium effort</p>","abstract":false,"args":[{"name":"exclude","default_value":"false","external_name":"exclude","restriction":"Bool"}],"args_string":"(exclude : Bool = false)","args_html":"(exclude : Bool = <span class=\"n\">false</span>)","location":{"filename":"src/openrouter/types/reasoning.cr","line_number":54,"url":null},"def":{"name":"medium","args":[{"name":"exclude","default_value":"false","external_name":"exclude","restriction":"Bool"}],"visibility":"Public","body":"new(effort: \"medium\", exclude: exclude)"},"external_var":false},{"html_id":"with_max_tokens(max_tokens:Int32,exclude:Bool=false)-class-method","name":"with_max_tokens","doc":"Create a reasoning config with specific max tokens","summary":"<p>Create a reasoning config with specific max tokens</p>","abstract":false,"args":[{"name":"max_tokens","external_name":"max_tokens","restriction":"Int32"},{"name":"exclude","default_value":"false","external_name":"exclude","restriction":"Bool"}],"args_string":"(max_tokens : Int32, exclude : Bool = false)","args_html":"(max_tokens : Int32, exclude : Bool = <span class=\"n\">false</span>)","location":{"filename":"src/openrouter/types/reasoning.cr","line_number":64,"url":null},"def":{"name":"with_max_tokens","args":[{"name":"max_tokens","external_name":"max_tokens","restriction":"Int32"},{"name":"exclude","default_value":"false","external_name":"exclude","restriction":"Bool"}],"visibility":"Public","body":"new(max_tokens: max_tokens, exclude: exclude)"},"external_var":false}],"constructors":[{"html_id":"new(effort:String|Nil=nil,max_tokens:Int32|Nil=nil,exclude:Bool=false,enabled:Bool|Nil=nil)-class-method","name":"new","abstract":false,"args":[{"name":"effort","default_value":"nil","external_name":"effort","restriction":"String | ::Nil"},{"name":"max_tokens","default_value":"nil","external_name":"max_tokens","restriction":"Int32 | ::Nil"},{"name":"exclude","default_value":"false","external_name":"exclude","restriction":"Bool"},{"name":"enabled","default_value":"nil","external_name":"enabled","restriction":"Bool | ::Nil"}],"args_string":"(effort : String | Nil = nil, max_tokens : Int32 | Nil = nil, exclude : Bool = false, enabled : Bool | Nil = nil)","args_html":"(effort : String | Nil = <span class=\"n\">nil</span>, max_tokens : Int32 | Nil = <span class=\"n\">nil</span>, exclude : Bool = <span class=\"n\">false</span>, enabled : Bool | Nil = <span class=\"n\">nil</span>)","location":{"filename":"src/openrouter/types/reasoning.cr","line_number":16,"url":null},"def":{"name":"new","args":[{"name":"effort","default_value":"nil","external_name":"effort","restriction":"String | ::Nil"},{"name":"max_tokens","default_value":"nil","external_name":"max_tokens","restriction":"Int32 | ::Nil"},{"name":"exclude","default_value":"false","external_name":"exclude","restriction":"Bool"},{"name":"enabled","default_value":"nil","external_name":"enabled","restriction":"Bool | ::Nil"}],"visibility":"Public","body":"_ = allocate\n_.initialize(effort, max_tokens, exclude, enabled)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"},"external_var":false}],"instance_methods":[{"html_id":"effort:String|Nil-instance-method","name":"effort","doc":"Effort level for reasoning: \"high\", \"medium\", or \"low\" (OpenAI-style)","summary":"<p>Effort level for reasoning: &quot;high&quot;, &quot;medium&quot;, or &quot;low&quot; (OpenAI-style)</p>","abstract":false,"location":{"filename":"src/openrouter/types/reasoning.cr","line_number":5,"url":null},"def":{"name":"effort","return_type":"String | ::Nil","visibility":"Public","body":"@effort"},"external_var":false},{"html_id":"effort=(effort:String|Nil)-instance-method","name":"effort=","doc":"Effort level for reasoning: \"high\", \"medium\", or \"low\" (OpenAI-style)","summary":"<p>Effort level for reasoning: &quot;high&quot;, &quot;medium&quot;, or &quot;low&quot; (OpenAI-style)</p>","abstract":false,"args":[{"name":"effort","external_name":"effort","restriction":"String | ::Nil"}],"args_string":"(effort : String | Nil)","args_html":"(effort : String | Nil)","location":{"filename":"src/openrouter/types/reasoning.cr","line_number":5,"url":null},"def":{"name":"effort=","args":[{"name":"effort","external_name":"effort","restriction":"String | ::Nil"}],"visibility":"Public","body":"@effort = effort"},"external_var":false},{"html_id":"enabled:Bool|Nil-instance-method","name":"enabled","doc":"Enable reasoning with default parameters (default: inferred from effort or max_tokens)","summary":"<p>Enable reasoning with default parameters (default: inferred from effort or max_tokens)</p>","abstract":false,"location":{"filename":"src/openrouter/types/reasoning.cr","line_number":14,"url":null},"def":{"name":"enabled","return_type":"Bool | ::Nil","visibility":"Public","body":"@enabled"},"external_var":false},{"html_id":"enabled=(enabled:Bool|Nil)-instance-method","name":"enabled=","doc":"Enable reasoning with default parameters (default: inferred from effort or max_tokens)","summary":"<p>Enable reasoning with default parameters (default: inferred from effort or max_tokens)</p>","abstract":false,"args":[{"name":"enabled","external_name":"enabled","restriction":"Bool | ::Nil"}],"args_string":"(enabled : Bool | Nil)","args_html":"(enabled : Bool | Nil)","location":{"filename":"src/openrouter/types/reasoning.cr","line_number":14,"url":null},"def":{"name":"enabled=","args":[{"name":"enabled","external_name":"enabled","restriction":"Bool | ::Nil"}],"visibility":"Public","body":"@enabled = enabled"},"external_var":false},{"html_id":"exclude:Bool-instance-method","name":"exclude","doc":"Whether to exclude reasoning tokens from response (default: false)","summary":"<p>Whether to exclude reasoning tokens from response (default: false)</p>","abstract":false,"location":{"filename":"src/openrouter/types/reasoning.cr","line_number":11,"url":null},"def":{"name":"exclude","return_type":"Bool","visibility":"Public","body":"@exclude"},"external_var":false},{"html_id":"exclude=(exclude:Bool)-instance-method","name":"exclude=","doc":"Whether to exclude reasoning tokens from response (default: false)","summary":"<p>Whether to exclude reasoning tokens from response (default: false)</p>","abstract":false,"args":[{"name":"exclude","external_name":"exclude","restriction":"Bool"}],"args_string":"(exclude : Bool)","args_html":"(exclude : Bool)","location":{"filename":"src/openrouter/types/reasoning.cr","line_number":11,"url":null},"def":{"name":"exclude=","args":[{"name":"exclude","external_name":"exclude","restriction":"Bool"}],"visibility":"Public","body":"@exclude = exclude"},"external_var":false},{"html_id":"max_tokens:Int32|Nil-instance-method","name":"max_tokens","doc":"Specific token limit for reasoning (Anthropic-style)","summary":"<p>Specific token limit for reasoning (Anthropic-style)</p>","abstract":false,"location":{"filename":"src/openrouter/types/reasoning.cr","line_number":8,"url":null},"def":{"name":"max_tokens","return_type":"Int32 | ::Nil","visibility":"Public","body":"@max_tokens"},"external_var":false},{"html_id":"max_tokens=(max_tokens:Int32|Nil)-instance-method","name":"max_tokens=","doc":"Specific token limit for reasoning (Anthropic-style)","summary":"<p>Specific token limit for reasoning (Anthropic-style)</p>","abstract":false,"args":[{"name":"max_tokens","external_name":"max_tokens","restriction":"Int32 | ::Nil"}],"args_string":"(max_tokens : Int32 | Nil)","args_html":"(max_tokens : Int32 | Nil)","location":{"filename":"src/openrouter/types/reasoning.cr","line_number":8,"url":null},"def":{"name":"max_tokens=","args":[{"name":"max_tokens","external_name":"max_tokens","restriction":"Int32 | ::Nil"}],"visibility":"Public","body":"@max_tokens = max_tokens"},"external_var":false},{"html_id":"to_json(io:IO)-instance-method","name":"to_json","abstract":false,"args":[{"name":"io","external_name":"io","restriction":"IO"}],"args_string":"(io : IO)","args_html":"(io : IO)","location":{"filename":"src/openrouter/types/reasoning.cr","line_number":33,"url":null},"def":{"name":"to_json","args":[{"name":"io","external_name":"io","restriction":"IO"}],"visibility":"Public","body":"JSON.build(io) do |json|\n  to_json(json)\nend"},"external_var":false},{"html_id":"to_json(json:JSON::Builder)-instance-method","name":"to_json","abstract":false,"args":[{"name":"json","external_name":"json","restriction":"JSON::Builder"}],"args_string":"(json : JSON::Builder)","args_html":"(json : JSON::Builder)","location":{"filename":"src/openrouter/types/reasoning.cr","line_number":39,"url":null},"def":{"name":"to_json","args":[{"name":"json","external_name":"json","restriction":"JSON::Builder"}],"visibility":"Public","body":"json.object do\n  if @effort\n    json.field(\"effort\", @effort)\n  end\n  if @max_tokens\n    json.field(\"max_tokens\", @max_tokens)\n  end\n  if @exclude != false\n    json.field(\"exclude\", @exclude)\n  end\n  if @enabled\n    json.field(\"enabled\", @enabled)\n  end\nend"},"external_var":false}]},{"html_id":"openrouter/OpenRouter/RequestTimeoutError","path":"OpenRouter/RequestTimeoutError.html","kind":"class","full_name":"OpenRouter::RequestTimeoutError","name":"RequestTimeoutError","abstract":false,"superclass":{"html_id":"openrouter/OpenRouter/Error","kind":"class","full_name":"OpenRouter::Error","name":"Error"},"ancestors":[{"html_id":"openrouter/OpenRouter/Error","kind":"class","full_name":"OpenRouter::Error","name":"Error"},{"html_id":"openrouter/Exception","kind":"class","full_name":"Exception","name":"Exception"},{"html_id":"openrouter/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"openrouter/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/openrouter/errors.cr","line_number":13,"url":null}],"repository_name":"openrouter","program":false,"enum":false,"alias":false,"const":false,"namespace":{"html_id":"openrouter/OpenRouter","kind":"module","full_name":"OpenRouter","name":"OpenRouter"}},{"html_id":"openrouter/OpenRouter/Response","path":"OpenRouter/Response.html","kind":"struct","full_name":"OpenRouter::Response","name":"Response","abstract":false,"superclass":{"html_id":"openrouter/Struct","kind":"struct","full_name":"Struct","name":"Struct"},"ancestors":[{"html_id":"openrouter/Struct","kind":"struct","full_name":"Struct","name":"Struct"},{"html_id":"openrouter/Value","kind":"struct","full_name":"Value","name":"Value"},{"html_id":"openrouter/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/openrouter/types/response.cr","line_number":125,"url":null}],"repository_name":"openrouter","program":false,"enum":false,"alias":false,"const":false,"namespace":{"html_id":"openrouter/OpenRouter","kind":"module","full_name":"OpenRouter","name":"OpenRouter"},"doc":"Represents a response from ","summary":"<p>Represents a response from</p>","class_methods":[{"html_id":"from_request(request:CompletionRequest,response_json:JSON::Any)-class-method","name":"from_request","abstract":false,"args":[{"name":"request","external_name":"request","restriction":"CompletionRequest"},{"name":"response_json","external_name":"response_json","restriction":"JSON::Any"}],"args_string":"(request : CompletionRequest, response_json : JSON::Any)","args_html":"(request : <a href=\"../OpenRouter/CompletionRequest.html\">CompletionRequest</a>, response_json : JSON::Any)","location":{"filename":"src/openrouter/types/response.cr","line_number":153,"url":null},"def":{"name":"from_request","args":[{"name":"request","external_name":"request","restriction":"CompletionRequest"},{"name":"response_json","external_name":"response_json","restriction":"JSON::Any"}],"visibility":"Public","body":"response = new(response_json)\n\nif request.respond_with_json\n  puts(\"Parsing response message as JSON...\")\n\n\n  message = (response.choices[0].as(NonStreamingChoice)).message\n  text = message.content_string\n\n  puts(\"raw text: #{text}\")\n\n\n  text = text.gsub(/^[^\\{]+/, \"\")\n\n\n  text = text.gsub(/[^\\}]+$/, \"\")\n\n  puts(\"cleaned up: `#{text}`\")\n\n  begin\n    json = JSON.parse(text)\n  rescue e\n    raise(InvalidJSONResponse.new(\"Invalid JSON in message content: #{text}\", e))\n  end\n\n  if request.force_tool_support\n    puts(\"force tool support...\")\n\n    if json[\"message\"]?\n      message.content = json[\"message\"].as_s\n    else\n      message.content = \"\"\n    end\n\n    puts(\"message content set: #{message.content}\")\n\n\n    if json[\"tool_calls\"]?\n      puts(\"parsing tool calls...\")\n\n      message.tool_calls = json[\"tool_calls\"].as_a.map do |tool_call_json|\n        if tool_call_json[\"function\"]?\n          func = tool_call_json[\"function\"].as_h\n        else\n          func = tool_call_json\n        end\n\n\n        if func[\"name\"]?\n          name = func[\"name\"].as_s\n        else\n          raise(InvalidJSONResponse.new(\"Missing function name in tool call.\"))\n        end\n\n        puts(\"function name: #{name}\")\n\n\n        if func[\"arguments\"]?\n          puts(\"arguments : #{func[\"arguments\"].to_s}\")\n\n          if func[\"arguments\"].as_s?\n            puts(\"arguments is a JSON string, parsing...\")\n            begin\n              args = (JSON.parse(func[\"arguments\"].as_s)).as_h\n            rescue e\n              raise(InvalidJSONResponse.new(\"Invalid JSON in tool call arguments.\", e))\n            end\n          else\n            args = func[\"arguments\"].as_h? || ({} of String => JSON::Any)\n          end\n        else\n          args = {} of String => JSON::Any\n        end\n\n\n        arguments = args.map do |key, value|\n          ToolCallArgument.new(key, value)\n        end\n\n\n        id = \"tool_call_\" + UUID.random.to_s\n\n        ToolCall.new(id, name, arguments, \"function\")\n      end\n    end\n\n    choice = response.choices[0].as(NonStreamingChoice)\n    choice.message = message\n    response.choices[0] = choice\n  end\nend\n\nresponse\n"},"external_var":false}],"constructors":[{"html_id":"new(json:JSON::Any)-class-method","name":"new","abstract":false,"args":[{"name":"json","external_name":"json","restriction":"JSON::Any"}],"args_string":"(json : JSON::Any)","args_html":"(json : JSON::Any)","location":{"filename":"src/openrouter/types/response.cr","line_number":251,"url":null},"def":{"name":"new","args":[{"name":"json","external_name":"json","restriction":"JSON::Any"}],"visibility":"Public","body":"_ = allocate\n_.initialize(json)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"},"external_var":false}],"instance_methods":[{"html_id":"choices:Array(Choice)-instance-method","name":"choices","abstract":false,"location":{"filename":"src/openrouter/types/response.cr","line_number":130,"url":null},"def":{"name":"choices","return_type":"Array(Choice)","visibility":"Public","body":"@choices"},"external_var":false},{"html_id":"created:Int32-instance-method","name":"created","abstract":false,"location":{"filename":"src/openrouter/types/response.cr","line_number":127,"url":null},"def":{"name":"created","return_type":"Int32","visibility":"Public","body":"@created"},"external_var":false},{"html_id":"id:String|Nil-instance-method","name":"id","abstract":false,"location":{"filename":"src/openrouter/types/response.cr","line_number":126,"url":null},"def":{"name":"id","return_type":"String | ::Nil","visibility":"Public","body":"@id"},"external_var":false},{"html_id":"model:String-instance-method","name":"model","abstract":false,"location":{"filename":"src/openrouter/types/response.cr","line_number":128,"url":null},"def":{"name":"model","return_type":"String","visibility":"Public","body":"@model"},"external_var":false},{"html_id":"to_json(io:IO)-instance-method","name":"to_json","abstract":false,"args":[{"name":"io","external_name":"io","restriction":"IO"}],"args_string":"(io : IO)","args_html":"(io : IO)","location":{"filename":"src/openrouter/types/response.cr","line_number":137,"url":null},"def":{"name":"to_json","args":[{"name":"io","external_name":"io","restriction":"IO"}],"visibility":"Public","body":"JSON.build(io) do |json|\n  to_json(json)\nend"},"external_var":false},{"html_id":"to_json(json:JSON::Builder)-instance-method","name":"to_json","abstract":false,"args":[{"name":"json","external_name":"json","restriction":"JSON::Builder"}],"args_string":"(json : JSON::Builder)","args_html":"(json : JSON::Builder)","location":{"filename":"src/openrouter/types/response.cr","line_number":143,"url":null},"def":{"name":"to_json","args":[{"name":"json","external_name":"json","restriction":"JSON::Builder"}],"visibility":"Public","body":"json.object do\n  json.field(\"id\", @id)\n  json.field(\"created\", @created)\n  json.field(\"model\", @model)\n  json.field(\"choices\", @choices)\n  if @usage\n    json.field(\"usage\", @usage)\n  end\nend"},"external_var":false},{"html_id":"usage:Usage|Nil-instance-method","name":"usage","doc":"Usage data is always returned for non-streaming.\nWhen streaming, you will get one usage object at\nthe end accompanied by an empty choices array.","summary":"<p>Usage data is always returned for non-streaming.</p>","abstract":false,"location":{"filename":"src/openrouter/types/response.cr","line_number":135,"url":null},"def":{"name":"usage","return_type":"Usage | ::Nil","visibility":"Public","body":"@usage"},"external_var":false}]},{"html_id":"openrouter/OpenRouter/ResponseObject","path":"OpenRouter/ResponseObject.html","kind":"enum","full_name":"OpenRouter::ResponseObject","name":"ResponseObject","abstract":false,"ancestors":[{"html_id":"openrouter/Enum","kind":"struct","full_name":"Enum","name":"Enum"},{"html_id":"openrouter/Comparable","kind":"module","full_name":"Comparable","name":"Comparable"},{"html_id":"openrouter/Value","kind":"struct","full_name":"Value","name":"Value"},{"html_id":"openrouter/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/openrouter/types/response.cr","line_number":16,"url":null}],"repository_name":"openrouter","program":false,"enum":true,"alias":false,"const":false,"constants":[{"id":"ChatCompletion","name":"ChatCompletion","value":"0"},{"id":"ChatCompletionChunk","name":"ChatCompletionChunk","value":"1"}],"namespace":{"html_id":"openrouter/OpenRouter","kind":"module","full_name":"OpenRouter","name":"OpenRouter"},"instance_methods":[{"html_id":"chat_completion?-instance-method","name":"chat_completion?","doc":"Returns `true` if this enum value equals `ChatCompletion`","summary":"<p>Returns <code>true</code> if this enum value equals <code><a href=\"../OpenRouter/ResponseObject.html#ChatCompletion\">ChatCompletion</a></code></p>","abstract":false,"location":{"filename":"src/openrouter/types/response.cr","line_number":17,"url":null},"def":{"name":"chat_completion?","visibility":"Public","body":"self == ChatCompletion"},"external_var":false},{"html_id":"chat_completion_chunk?-instance-method","name":"chat_completion_chunk?","doc":"Returns `true` if this enum value equals `ChatCompletionChunk`","summary":"<p>Returns <code>true</code> if this enum value equals <code><a href=\"../OpenRouter/ResponseObject.html#ChatCompletionChunk\">ChatCompletionChunk</a></code></p>","abstract":false,"location":{"filename":"src/openrouter/types/response.cr","line_number":18,"url":null},"def":{"name":"chat_completion_chunk?","visibility":"Public","body":"self == ChatCompletionChunk"},"external_var":false}]},{"html_id":"openrouter/OpenRouter/Role","path":"OpenRouter/Role.html","kind":"enum","full_name":"OpenRouter::Role","name":"Role","abstract":false,"ancestors":[{"html_id":"openrouter/Enum","kind":"struct","full_name":"Enum","name":"Enum"},{"html_id":"openrouter/Comparable","kind":"module","full_name":"Comparable","name":"Comparable"},{"html_id":"openrouter/Value","kind":"struct","full_name":"Value","name":"Value"},{"html_id":"openrouter/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/openrouter/types/message.cr","line_number":6,"url":null}],"repository_name":"openrouter","program":false,"enum":true,"alias":false,"const":false,"constants":[{"id":"User","name":"User","value":"0"},{"id":"Assistant","name":"Assistant","value":"1"},{"id":"System","name":"System","value":"2"},{"id":"Tool","name":"Tool","value":"3"}],"namespace":{"html_id":"openrouter/OpenRouter","kind":"module","full_name":"OpenRouter","name":"OpenRouter"},"doc":"The role type of a Message","summary":"<p>The role type of a Message</p>","instance_methods":[{"html_id":"assistant?-instance-method","name":"assistant?","doc":"Returns `true` if this enum value equals `Assistant`","summary":"<p>Returns <code>true</code> if this enum value equals <code><a href=\"../OpenRouter/Role.html#Assistant\">Assistant</a></code></p>","abstract":false,"location":{"filename":"src/openrouter/types/message.cr","line_number":8,"url":null},"def":{"name":"assistant?","visibility":"Public","body":"self == Assistant"},"external_var":false},{"html_id":"system?-instance-method","name":"system?","doc":"Returns `true` if this enum value equals `System`","summary":"<p>Returns <code>true</code> if this enum value equals <code><a href=\"../OpenRouter/Role.html#System\">System</a></code></p>","abstract":false,"location":{"filename":"src/openrouter/types/message.cr","line_number":9,"url":null},"def":{"name":"system?","visibility":"Public","body":"self == System"},"external_var":false},{"html_id":"tool?-instance-method","name":"tool?","doc":"Returns `true` if this enum value equals `Tool`","summary":"<p>Returns <code>true</code> if this enum value equals <code><a href=\"../OpenRouter/Role.html#Tool\">Tool</a></code></p>","abstract":false,"location":{"filename":"src/openrouter/types/message.cr","line_number":10,"url":null},"def":{"name":"tool?","visibility":"Public","body":"self == Tool"},"external_var":false},{"html_id":"user?-instance-method","name":"user?","doc":"Returns `true` if this enum value equals `User`","summary":"<p>Returns <code>true</code> if this enum value equals <code><a href=\"../OpenRouter/Role.html#User\">User</a></code></p>","abstract":false,"location":{"filename":"src/openrouter/types/message.cr","line_number":7,"url":null},"def":{"name":"user?","visibility":"Public","body":"self == User"},"external_var":false}]},{"html_id":"openrouter/OpenRouter/ServiceUnavailableError","path":"OpenRouter/ServiceUnavailableError.html","kind":"class","full_name":"OpenRouter::ServiceUnavailableError","name":"ServiceUnavailableError","abstract":false,"superclass":{"html_id":"openrouter/OpenRouter/Error","kind":"class","full_name":"OpenRouter::Error","name":"Error"},"ancestors":[{"html_id":"openrouter/OpenRouter/Error","kind":"class","full_name":"OpenRouter::Error","name":"Error"},{"html_id":"openrouter/Exception","kind":"class","full_name":"Exception","name":"Exception"},{"html_id":"openrouter/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"openrouter/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/openrouter/errors.cr","line_number":16,"url":null}],"repository_name":"openrouter","program":false,"enum":false,"alias":false,"const":false,"namespace":{"html_id":"openrouter/OpenRouter","kind":"module","full_name":"OpenRouter","name":"OpenRouter"}},{"html_id":"openrouter/OpenRouter/StreamingChoice","path":"OpenRouter/StreamingChoice.html","kind":"struct","full_name":"OpenRouter::StreamingChoice","name":"StreamingChoice","abstract":false,"superclass":{"html_id":"openrouter/OpenRouter/Choice","kind":"struct","full_name":"OpenRouter::Choice","name":"Choice"},"ancestors":[{"html_id":"openrouter/OpenRouter/Choice","kind":"struct","full_name":"OpenRouter::Choice","name":"Choice"},{"html_id":"openrouter/Struct","kind":"struct","full_name":"Struct","name":"Struct"},{"html_id":"openrouter/Value","kind":"struct","full_name":"Value","name":"Value"},{"html_id":"openrouter/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/openrouter/types/response.cr","line_number":102,"url":null}],"repository_name":"openrouter","program":false,"enum":false,"alias":false,"const":false,"namespace":{"html_id":"openrouter/OpenRouter","kind":"module","full_name":"OpenRouter","name":"OpenRouter"},"doc":"Represents a streaming response\n\nThe delta property contains a partial message.","summary":"<p>Represents a streaming response</p>","constructors":[{"html_id":"new(json:JSON::Any)-class-method","name":"new","abstract":false,"args":[{"name":"json","external_name":"json","restriction":"JSON::Any"}],"args_string":"(json : JSON::Any)","args_html":"(json : JSON::Any)","location":{"filename":"src/openrouter/types/response.cr","line_number":105,"url":null},"def":{"name":"new","args":[{"name":"json","external_name":"json","restriction":"JSON::Any"}],"visibility":"Public","body":"_ = allocate\n_.initialize(json)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"},"external_var":false}],"instance_methods":[{"html_id":"delta:Message-instance-method","name":"delta","abstract":false,"location":{"filename":"src/openrouter/types/response.cr","line_number":103,"url":null},"def":{"name":"delta","return_type":"Message","visibility":"Public","body":"@delta"},"external_var":false},{"html_id":"to_json(io:IO)-instance-method","name":"to_json","abstract":false,"args":[{"name":"io","external_name":"io","restriction":"IO"}],"args_string":"(io : IO)","args_html":"(io : IO)","location":{"filename":"src/openrouter/types/response.cr","line_number":110,"url":null},"def":{"name":"to_json","args":[{"name":"io","external_name":"io","restriction":"IO"}],"visibility":"Public","body":"JSON.build(io) do |json|\n  to_json(json)\nend"},"external_var":false},{"html_id":"to_json(json:JSON::Builder)-instance-method","name":"to_json","abstract":false,"args":[{"name":"json","external_name":"json","restriction":"JSON::Builder"}],"args_string":"(json : JSON::Builder)","args_html":"(json : JSON::Builder)","location":{"filename":"src/openrouter/types/response.cr","line_number":116,"url":null},"def":{"name":"to_json","args":[{"name":"json","external_name":"json","restriction":"JSON::Builder"}],"visibility":"Public","body":"json.object do\n  json.field(\"delta\", @delta)\n  if @finish_reason\n    json.field(\"finish_reason\", @finish_reason)\n  end\nend"},"external_var":false}]},{"html_id":"openrouter/OpenRouter/Tool","path":"OpenRouter/Tool.html","kind":"class","full_name":"OpenRouter::Tool","name":"Tool","abstract":false,"superclass":{"html_id":"openrouter/Reference","kind":"class","full_name":"Reference","name":"Reference"},"ancestors":[{"html_id":"openrouter/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"openrouter/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/openrouter/types/tool.cr","line_number":123,"url":null}],"repository_name":"openrouter","program":false,"enum":false,"alias":false,"const":false,"namespace":{"html_id":"openrouter/OpenRouter","kind":"module","full_name":"OpenRouter","name":"OpenRouter"},"constructors":[{"html_id":"new(function:Function)-class-method","name":"new","abstract":false,"args":[{"name":"function","external_name":"function","restriction":"Function"}],"args_string":"(function : Function)","args_html":"(function : <a href=\"../OpenRouter/Function.html\">Function</a>)","location":{"filename":"src/openrouter/types/tool.cr","line_number":127,"url":null},"def":{"name":"new","args":[{"name":"function","external_name":"function","restriction":"Function"}],"visibility":"Public","body":"_ = allocate\n_.initialize(function)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"},"external_var":false},{"html_id":"new(name:String,description:String|Nil=nil,parameters:Array(FunctionParameter)=[]ofFunctionParameter)-class-method","name":"new","abstract":false,"args":[{"name":"name","external_name":"name","restriction":"String"},{"name":"description","default_value":"nil","external_name":"description","restriction":"String | ::Nil"},{"name":"parameters","default_value":"[] of FunctionParameter","external_name":"parameters","restriction":"Array(FunctionParameter)"}],"args_string":"(name : String, description : String | Nil = nil, parameters : Array(FunctionParameter) = [] of FunctionParameter)","args_html":"(name : String, description : String | Nil = <span class=\"n\">nil</span>, parameters : Array(<a href=\"../OpenRouter/FunctionParameter.html\">FunctionParameter</a>) = <span class=\"o\">[]</span> <span class=\"k\">of</span> <span class=\"t\">FunctionParameter</span>)","location":{"filename":"src/openrouter/types/tool.cr","line_number":131,"url":null},"def":{"name":"new","args":[{"name":"name","external_name":"name","restriction":"String"},{"name":"description","default_value":"nil","external_name":"description","restriction":"String | ::Nil"},{"name":"parameters","default_value":"[] of FunctionParameter","external_name":"parameters","restriction":"Array(FunctionParameter)"}],"visibility":"Public","body":"_ = allocate\n_.initialize(name, description, parameters)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"},"external_var":false}],"instance_methods":[{"html_id":"function:Function-instance-method","name":"function","abstract":false,"location":{"filename":"src/openrouter/types/tool.cr","line_number":125,"url":null},"def":{"name":"function","return_type":"Function","visibility":"Public","body":"@function"},"external_var":false},{"html_id":"function=(function:Function)-instance-method","name":"function=","abstract":false,"args":[{"name":"function","external_name":"function","restriction":"Function"}],"args_string":"(function : Function)","args_html":"(function : <a href=\"../OpenRouter/Function.html\">Function</a>)","location":{"filename":"src/openrouter/types/tool.cr","line_number":125,"url":null},"def":{"name":"function=","args":[{"name":"function","external_name":"function","restriction":"Function"}],"visibility":"Public","body":"@function = function"},"external_var":false},{"html_id":"to_json(io:IO)-instance-method","name":"to_json","abstract":false,"args":[{"name":"io","external_name":"io","restriction":"IO"}],"args_string":"(io : IO)","args_html":"(io : IO)","location":{"filename":"src/openrouter/types/tool.cr","line_number":135,"url":null},"def":{"name":"to_json","args":[{"name":"io","external_name":"io","restriction":"IO"}],"visibility":"Public","body":"JSON.build(io) do |json|\n  to_json(json)\nend"},"external_var":false},{"html_id":"to_json(json:JSON::Builder)-instance-method","name":"to_json","abstract":false,"args":[{"name":"json","external_name":"json","restriction":"JSON::Builder"}],"args_string":"(json : JSON::Builder)","args_html":"(json : JSON::Builder)","location":{"filename":"src/openrouter/types/tool.cr","line_number":141,"url":null},"def":{"name":"to_json","args":[{"name":"json","external_name":"json","restriction":"JSON::Builder"}],"visibility":"Public","body":"json.object do\n  json.field(\"type\", @type)\n  json.field(\"function\") do\n    @function.to_json(json)\n  end\nend"},"external_var":false},{"html_id":"type:String-instance-method","name":"type","abstract":false,"location":{"filename":"src/openrouter/types/tool.cr","line_number":124,"url":null},"def":{"name":"type","return_type":"String","visibility":"Public","body":"@type"},"external_var":false},{"html_id":"type=(type:String)-instance-method","name":"type=","abstract":false,"args":[{"name":"type","external_name":"type","restriction":"String"}],"args_string":"(type : String)","args_html":"(type : String)","location":{"filename":"src/openrouter/types/tool.cr","line_number":124,"url":null},"def":{"name":"type=","args":[{"name":"type","external_name":"type","restriction":"String"}],"visibility":"Public","body":"@type = type"},"external_var":false}]},{"html_id":"openrouter/OpenRouter/ToolCall","path":"OpenRouter/ToolCall.html","kind":"struct","full_name":"OpenRouter::ToolCall","name":"ToolCall","abstract":false,"superclass":{"html_id":"openrouter/Struct","kind":"struct","full_name":"Struct","name":"Struct"},"ancestors":[{"html_id":"openrouter/Struct","kind":"struct","full_name":"Struct","name":"Struct"},{"html_id":"openrouter/Value","kind":"struct","full_name":"Value","name":"Value"},{"html_id":"openrouter/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/openrouter/types/tool_call.cr","line_number":48,"url":null}],"repository_name":"openrouter","program":false,"enum":false,"alias":false,"const":false,"namespace":{"html_id":"openrouter/OpenRouter","kind":"module","full_name":"OpenRouter","name":"OpenRouter"},"doc":"tool calls look like this:\n\"tool_calls\": [\n    {\n      \"id\": \"call_9pw1qnYScqvGrCH58HWCvFH6\",\n      \"type\": \"function\",\n      \"function\": {\n        \"name\": \"get_current_weather\",\n        \"arguments\": \"{ \\\"location\\\": \\\"Boston, MA\\\"}\"\n      }\n    }\n  ]","summary":"<p>tool calls look like this: &quot;tool_calls&quot;: [     {       &quot;id&quot;: &quot;call_9pw1qnYScqvGrCH58HWCvFH6&quot;,       &quot;type&quot;: &quot;function&quot;,       &quot;function&quot;: {         &quot;name&quot;: &quot;get_current_weather&quot;,         &quot;arguments&quot;: &quot;{ &quot;location&quot;: &quot;Boston, MA&quot;}&quot;       }     }   ]</p>","class_methods":[{"html_id":"from_json(json:String)-class-method","name":"from_json","abstract":false,"args":[{"name":"json","external_name":"json","restriction":"String"}],"args_string":"(json : String)","args_html":"(json : String)","location":{"filename":"src/openrouter/types/tool_call.cr","line_number":62,"url":null},"def":{"name":"from_json","args":[{"name":"json","external_name":"json","restriction":"String"}],"visibility":"Public","body":"ToolCall.new(JSON.parse(json))"},"external_var":false},{"html_id":"from_json(json:JSON::Any)-class-method","name":"from_json","abstract":false,"args":[{"name":"json","external_name":"json","restriction":"JSON::Any"}],"args_string":"(json : JSON::Any)","args_html":"(json : JSON::Any)","location":{"filename":"src/openrouter/types/tool_call.cr","line_number":66,"url":null},"def":{"name":"from_json","args":[{"name":"json","external_name":"json","restriction":"JSON::Any"}],"visibility":"Public","body":"ToolCall.new(json)"},"external_var":false}],"constructors":[{"html_id":"new(id:String,name:String,arguments:Array(ToolCallArgument)=[]ofToolCallArgument,type:String=\"function\")-class-method","name":"new","abstract":false,"args":[{"name":"id","external_name":"id","restriction":"String"},{"name":"name","external_name":"name","restriction":"String"},{"name":"arguments","default_value":"[] of ToolCallArgument","external_name":"arguments","restriction":"Array(ToolCallArgument)"},{"name":"type","default_value":"\"function\"","external_name":"type","restriction":"String"}],"args_string":"(id : String, name : String, arguments : Array(ToolCallArgument) = [] of ToolCallArgument, type : String = \"function\")","args_html":"(id : String, name : String, arguments : Array(<a href=\"../OpenRouter/ToolCallArgument.html\">ToolCallArgument</a>) = <span class=\"o\">[]</span> <span class=\"k\">of</span> <span class=\"t\">ToolCallArgument</span>, type : String = <span class=\"s\">&quot;function&quot;</span>)","location":{"filename":"src/openrouter/types/tool_call.cr","line_number":54,"url":null},"def":{"name":"new","args":[{"name":"id","external_name":"id","restriction":"String"},{"name":"name","external_name":"name","restriction":"String"},{"name":"arguments","default_value":"[] of ToolCallArgument","external_name":"arguments","restriction":"Array(ToolCallArgument)"},{"name":"type","default_value":"\"function\"","external_name":"type","restriction":"String"}],"visibility":"Public","body":"_ = allocate\n_.initialize(id, name, arguments, type)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"},"external_var":false},{"html_id":"new(json:JSON::Any)-class-method","name":"new","abstract":false,"args":[{"name":"json","external_name":"json","restriction":"JSON::Any"}],"args_string":"(json : JSON::Any)","args_html":"(json : JSON::Any)","location":{"filename":"src/openrouter/types/tool_call.cr","line_number":70,"url":null},"def":{"name":"new","args":[{"name":"json","external_name":"json","restriction":"JSON::Any"}],"visibility":"Public","body":"_ = allocate\n_.initialize(json)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"},"external_var":false}],"instance_methods":[{"html_id":"arguments:Array(ToolCallArgument)-instance-method","name":"arguments","abstract":false,"location":{"filename":"src/openrouter/types/tool_call.cr","line_number":52,"url":null},"def":{"name":"arguments","return_type":"Array(ToolCallArgument)","visibility":"Public","body":"@arguments"},"external_var":false},{"html_id":"id:String-instance-method","name":"id","abstract":false,"location":{"filename":"src/openrouter/types/tool_call.cr","line_number":49,"url":null},"def":{"name":"id","return_type":"String","visibility":"Public","body":"@id"},"external_var":false},{"html_id":"name:String-instance-method","name":"name","abstract":false,"location":{"filename":"src/openrouter/types/tool_call.cr","line_number":51,"url":null},"def":{"name":"name","return_type":"String","visibility":"Public","body":"@name"},"external_var":false},{"html_id":"to_json(io:IO)-instance-method","name":"to_json","abstract":false,"args":[{"name":"io","external_name":"io","restriction":"IO"}],"args_string":"(io : IO)","args_html":"(io : IO)","location":{"filename":"src/openrouter/types/tool_call.cr","line_number":105,"url":null},"def":{"name":"to_json","args":[{"name":"io","external_name":"io","restriction":"IO"}],"visibility":"Public","body":"JSON.build(io) do |json|\n  to_json(json)\nend"},"external_var":false},{"html_id":"to_json(json:JSON::Builder)-instance-method","name":"to_json","abstract":false,"args":[{"name":"json","external_name":"json","restriction":"JSON::Builder"}],"args_string":"(json : JSON::Builder)","args_html":"(json : JSON::Builder)","location":{"filename":"src/openrouter/types/tool_call.cr","line_number":111,"url":null},"def":{"name":"to_json","args":[{"name":"json","external_name":"json","restriction":"JSON::Builder"}],"visibility":"Public","body":"json.object do\n  json.field(\"id\", @id)\n  json.field(\"type\", @type)\n\n  json.field(\"function\") do\n    json.object do\n      json.field(\"name\", @name)\n\n      args = JSON.build do |js|\n        js.object do\n          @arguments.each do |arg|\n            js.field(arg.name, arg.value)\n          end\n        end\n      end\n\n      json.field(\"arguments\", args.to_s)\n    end\n  end\nend"},"external_var":false},{"html_id":"type:String-instance-method","name":"type","abstract":false,"location":{"filename":"src/openrouter/types/tool_call.cr","line_number":50,"url":null},"def":{"name":"type","return_type":"String","visibility":"Public","body":"@type"},"external_var":false}]},{"html_id":"openrouter/OpenRouter/ToolCallArgument","path":"OpenRouter/ToolCallArgument.html","kind":"struct","full_name":"OpenRouter::ToolCallArgument","name":"ToolCallArgument","abstract":false,"superclass":{"html_id":"openrouter/Struct","kind":"struct","full_name":"Struct","name":"Struct"},"ancestors":[{"html_id":"openrouter/Struct","kind":"struct","full_name":"Struct","name":"Struct"},{"html_id":"openrouter/Value","kind":"struct","full_name":"Value","name":"Value"},{"html_id":"openrouter/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/openrouter/types/tool_call.cr","line_number":3,"url":null}],"repository_name":"openrouter","program":false,"enum":false,"alias":false,"const":false,"namespace":{"html_id":"openrouter/OpenRouter","kind":"module","full_name":"OpenRouter","name":"OpenRouter"},"class_methods":[{"html_id":"from_json(json:JSON::Any)-class-method","name":"from_json","abstract":false,"args":[{"name":"json","external_name":"json","restriction":"JSON::Any"}],"args_string":"(json : JSON::Any)","args_html":"(json : JSON::Any)","location":{"filename":"src/openrouter/types/tool_call.cr","line_number":17,"url":null},"def":{"name":"from_json","args":[{"name":"json","external_name":"json","restriction":"JSON::Any"}],"visibility":"Public","body":"name = json[\"name\"].as_s\nvalue = json[\"value\"]\nToolCallArgument.new(name, value)\n"},"external_var":false}],"constructors":[{"html_id":"new(name:String,value:JSON::Any)-class-method","name":"new","abstract":false,"args":[{"name":"name","external_name":"name","restriction":"String"},{"name":"value","external_name":"value","restriction":"JSON::Any"}],"args_string":"(name : String, value : JSON::Any)","args_html":"(name : String, value : JSON::Any)","location":{"filename":"src/openrouter/types/tool_call.cr","line_number":7,"url":null},"def":{"name":"new","args":[{"name":"name","external_name":"name","restriction":"String"},{"name":"value","external_name":"value","restriction":"JSON::Any"}],"visibility":"Public","body":"_ = allocate\n_.initialize(name, value)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"},"external_var":false},{"html_id":"new(name:String,value:String)-class-method","name":"new","abstract":false,"args":[{"name":"name","external_name":"name","restriction":"String"},{"name":"value","external_name":"value","restriction":"String"}],"args_string":"(name : String, value : String)","args_html":"(name : String, value : String)","location":{"filename":"src/openrouter/types/tool_call.cr","line_number":12,"url":null},"def":{"name":"new","args":[{"name":"name","external_name":"name","restriction":"String"},{"name":"value","external_name":"value","restriction":"String"}],"visibility":"Public","body":"_ = allocate\n_.initialize(name, value)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"},"external_var":false}],"instance_methods":[{"html_id":"name:String-instance-method","name":"name","abstract":false,"location":{"filename":"src/openrouter/types/tool_call.cr","line_number":4,"url":null},"def":{"name":"name","return_type":"String","visibility":"Public","body":"@name"},"external_var":false},{"html_id":"to_json(io:IO)-instance-method","name":"to_json","abstract":false,"args":[{"name":"io","external_name":"io","restriction":"IO"}],"args_string":"(io : IO)","args_html":"(io : IO)","location":{"filename":"src/openrouter/types/tool_call.cr","line_number":23,"url":null},"def":{"name":"to_json","args":[{"name":"io","external_name":"io","restriction":"IO"}],"visibility":"Public","body":"JSON.build(io) do |json|\n  to_json(json)\nend"},"external_var":false},{"html_id":"to_json(json:JSON::Builder)-instance-method","name":"to_json","abstract":false,"args":[{"name":"json","external_name":"json","restriction":"JSON::Builder"}],"args_string":"(json : JSON::Builder)","args_html":"(json : JSON::Builder)","location":{"filename":"src/openrouter/types/tool_call.cr","line_number":29,"url":null},"def":{"name":"to_json","args":[{"name":"json","external_name":"json","restriction":"JSON::Builder"}],"visibility":"Public","body":"json.object do\n  json.field(\"name\", @name)\n  json.field(\"value\", @value.raw)\nend"},"external_var":false},{"html_id":"value:JSON::Any-instance-method","name":"value","abstract":false,"location":{"filename":"src/openrouter/types/tool_call.cr","line_number":5,"url":null},"def":{"name":"value","return_type":"JSON::Any","visibility":"Public","body":"@value"},"external_var":false}]},{"html_id":"openrouter/OpenRouter/TooManyRequestsError","path":"OpenRouter/TooManyRequestsError.html","kind":"class","full_name":"OpenRouter::TooManyRequestsError","name":"TooManyRequestsError","abstract":false,"superclass":{"html_id":"openrouter/OpenRouter/Error","kind":"class","full_name":"OpenRouter::Error","name":"Error"},"ancestors":[{"html_id":"openrouter/OpenRouter/Error","kind":"class","full_name":"OpenRouter::Error","name":"Error"},{"html_id":"openrouter/Exception","kind":"class","full_name":"Exception","name":"Exception"},{"html_id":"openrouter/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"openrouter/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/openrouter/errors.cr","line_number":14,"url":null}],"repository_name":"openrouter","program":false,"enum":false,"alias":false,"const":false,"namespace":{"html_id":"openrouter/OpenRouter","kind":"module","full_name":"OpenRouter","name":"OpenRouter"}},{"html_id":"openrouter/OpenRouter/UnauthorizedError","path":"OpenRouter/UnauthorizedError.html","kind":"class","full_name":"OpenRouter::UnauthorizedError","name":"UnauthorizedError","abstract":false,"superclass":{"html_id":"openrouter/OpenRouter/Error","kind":"class","full_name":"OpenRouter::Error","name":"Error"},"ancestors":[{"html_id":"openrouter/OpenRouter/Error","kind":"class","full_name":"OpenRouter::Error","name":"Error"},{"html_id":"openrouter/Exception","kind":"class","full_name":"Exception","name":"Exception"},{"html_id":"openrouter/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"openrouter/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/openrouter/errors.cr","line_number":10,"url":null}],"repository_name":"openrouter","program":false,"enum":false,"alias":false,"const":false,"namespace":{"html_id":"openrouter/OpenRouter","kind":"module","full_name":"OpenRouter","name":"OpenRouter"}},{"html_id":"openrouter/OpenRouter/Usage","path":"OpenRouter/Usage.html","kind":"struct","full_name":"OpenRouter::Usage","name":"Usage","abstract":false,"superclass":{"html_id":"openrouter/Struct","kind":"struct","full_name":"Struct","name":"Struct"},"ancestors":[{"html_id":"openrouter/Struct","kind":"struct","full_name":"Struct","name":"Struct"},{"html_id":"openrouter/Value","kind":"struct","full_name":"Value","name":"Value"},{"html_id":"openrouter/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/openrouter/types/response.cr","line_number":21,"url":null}],"repository_name":"openrouter","program":false,"enum":false,"alias":false,"const":false,"namespace":{"html_id":"openrouter/OpenRouter","kind":"module","full_name":"OpenRouter","name":"OpenRouter"},"constructors":[{"html_id":"new(json:JSON::Any)-class-method","name":"new","abstract":false,"args":[{"name":"json","external_name":"json","restriction":"JSON::Any"}],"args_string":"(json : JSON::Any)","args_html":"(json : JSON::Any)","location":{"filename":"src/openrouter/types/response.cr","line_number":26,"url":null},"def":{"name":"new","args":[{"name":"json","external_name":"json","restriction":"JSON::Any"}],"visibility":"Public","body":"_ = allocate\n_.initialize(json)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"},"external_var":false}],"instance_methods":[{"html_id":"completion:Int32-instance-method","name":"completion","abstract":false,"location":{"filename":"src/openrouter/types/response.cr","line_number":23,"url":null},"def":{"name":"completion","return_type":"Int32","visibility":"Public","body":"@completion"},"external_var":false},{"html_id":"prompt:Int32-instance-method","name":"prompt","abstract":false,"location":{"filename":"src/openrouter/types/response.cr","line_number":22,"url":null},"def":{"name":"prompt","return_type":"Int32","visibility":"Public","body":"@prompt"},"external_var":false},{"html_id":"to_json(io:IO)-instance-method","name":"to_json","abstract":false,"args":[{"name":"io","external_name":"io","restriction":"IO"}],"args_string":"(io : IO)","args_html":"(io : IO)","location":{"filename":"src/openrouter/types/response.cr","line_number":32,"url":null},"def":{"name":"to_json","args":[{"name":"io","external_name":"io","restriction":"IO"}],"visibility":"Public","body":"JSON.build(io) do |json|\n  to_json(json)\nend"},"external_var":false},{"html_id":"to_json(json:JSON::Builder)-instance-method","name":"to_json","abstract":false,"args":[{"name":"json","external_name":"json","restriction":"JSON::Builder"}],"args_string":"(json : JSON::Builder)","args_html":"(json : JSON::Builder)","location":{"filename":"src/openrouter/types/response.cr","line_number":38,"url":null},"def":{"name":"to_json","args":[{"name":"json","external_name":"json","restriction":"JSON::Builder"}],"visibility":"Public","body":"json.object do\n  json.field(\"prompt\", @prompt)\n  json.field(\"completion\", @completion)\n  json.field(\"total\", @total)\nend"},"external_var":false},{"html_id":"total:Int32-instance-method","name":"total","abstract":false,"location":{"filename":"src/openrouter/types/response.cr","line_number":24,"url":null},"def":{"name":"total","return_type":"Int32","visibility":"Public","body":"@total"},"external_var":false}]}]}]}}